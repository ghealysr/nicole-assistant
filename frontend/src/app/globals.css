@tailwind base;
@tailwind components;
@tailwind utilities;

/* Nicole V7 - CSS Variables */
:root {
  /* Dashboard CSS Variables */
  --dash-bg: #FAF9F6;
  --dash-border: #E8E6DC;
  --dash-card-bg: #FFFFFF;
  --dash-card-hover: #FAF9F6;
  --dash-accent: #B8A8D4;
  --dash-accent-dark: #9B8AB8;
  --dash-text: #374151;
  --dash-text-muted: #6b7280;
  --dash-text-subtle: #9ca3af;
  --dash-padding: 20px;
  --dash-gap: 16px;
  --dash-gap-sm: 10px;
  --dash-radius: 12px;
  --dash-radius-sm: 8px;
  
  /* Layout */
  --sidebar-width: 240px;
  --dashboard-width: 0px;
  --content-max-width: 800px;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
  background: #F5F4ED;
  color: #1f2937;
}

/* Custom scrollbar for chat */
.overflow-y-auto::-webkit-scrollbar,
.dashboard-content::-webkit-scrollbar {
  width: 6px;
}

.overflow-y-auto::-webkit-scrollbar-track,
.dashboard-content::-webkit-scrollbar-track {
  background: transparent;
}

.overflow-y-auto::-webkit-scrollbar-thumb,
.dashboard-content::-webkit-scrollbar-thumb {
  background-color: #D1CEC4;
  border-radius: 3px;
}

.overflow-y-auto::-webkit-scrollbar-thumb:hover,
.dashboard-content::-webkit-scrollbar-thumb:hover {
  background-color: #B8A8D4;
}

/* Animation for message appearance */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.3s ease-out;
}

/* Spinning animation for Nicole logo */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin 8s linear infinite;
}

/* Fast spin for thinking indicators */
.animate-spin {
  animation: spin 1s linear infinite;
}

/* Pulse animation for running states */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.animate-pulse {
  animation: pulse 2s ease-in-out infinite;
}

/* Thinking indicator bounce animation */
@keyframes bounce {
  0%, 60%, 100% {
    transform: translateY(0);
  }
  30% {
    transform: translateY(-6px);
  }
}

.typing-dot {
  animation: bounce 1s infinite;
}

.typing-dot:nth-child(2) {
  animation-delay: 0.15s;
}

.typing-dot:nth-child(3) {
  animation-delay: 0.3s;
}

/* ============================================
   NICOLE ACTIVITY STATUS ANIMATIONS
   Real-time activity indicator for chat
   ============================================ */

/* Activity status enter animation */
@keyframes activityStatusEnter {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Activity status exit animation */
@keyframes activityStatusExit {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-5px);
  }
}

.activity-status-enter {
  animation: activityStatusEnter 0.3s ease-out forwards;
}

.activity-status-exit {
  animation: activityStatusExit 0.2s ease-out forwards;
}

/* Activity dots pulsing animation */
@keyframes activityDotPulse {
  0%, 80%, 100% {
    opacity: 0.3;
    transform: scale(0.8);
  }
  40% {
    opacity: 1;
    transform: scale(1.1);
  }
}

.activity-dot {
  animation: activityDotPulse 1.2s infinite;
}

.activity-dot:nth-child(2) {
  animation-delay: 0.15s;
}

.activity-dot:nth-child(3) {
  animation-delay: 0.3s;
}

/* Activity text smooth transition */
.activity-text-transition {
  transition: opacity 0.2s ease-out;
}

/* Nicole activity status container styles */
.nicole-activity-status {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Subtle glow effect on the status box */
.nicole-activity-status::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 13px;
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.3) 0%, rgba(188, 209, 203, 0.3) 100%);
  z-index: -1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.nicole-activity-status:hover::before {
  opacity: 1;
}

/* Toast animations */
@keyframes slide-in-from-right-full {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-in {
  animation-duration: 0.3s;
  animation-fill-mode: both;
}

.slide-in-from-right-full {
  animation-name: slide-in-from-right-full;
}

/* Focus styles */
input:focus,
textarea:focus,
button:focus {
  outline: none;
}

/* Nicole's message styling - prose formatting like Claude */
.nicole-message {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.7;
  font-size: 15px;
  color: #374151;
}

.nicole-message-text {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.7;
  font-size: 15px;
  color: #374151;
}

/* Nicole's inline code styling */
.nicole-inline-code {
  background-color: #E8E0F0;
  color: #9B8AB8;
  padding: 0.15em 0.4em;
  border-radius: 4px;
  font-size: 0.9em;
  font-family: 'SF Mono', Monaco, Consolas, monospace;
}

/* Nicole's list styling */
.nicole-list {
  margin: 0.75em 0;
  padding-left: 1.5em;
}

.nicole-list li {
  margin-bottom: 0.5em;
  line-height: 1.6;
}

.nicole-list li::marker {
  color: #B8A8D4;
}

.nicole-list-ordered li::marker {
  color: #9B8AB8;
  font-weight: 500;
}

/* Nicole's headers */
.nicole-h1 {
  font-size: 1.5em;
  font-weight: 600;
  color: #1f2937;
  margin: 1em 0 0.5em;
}

.nicole-h2 {
  font-size: 1.25em;
  font-weight: 600;
  color: #1f2937;
  margin: 1em 0 0.5em;
}

.nicole-h3 {
  font-size: 1.1em;
  font-weight: 600;
  color: #1f2937;
  margin: 0.75em 0 0.5em;
}

/* Lavender background color class */
.bg-lavender {
  background-color: #B8A8D4;
}

/* Prose styling for AI responses */
.nicole-message p {
  margin-bottom: 1em;
}

.nicole-message p:last-child {
  margin-bottom: 0;
}

.nicole-message strong,
.nicole-message b {
  font-weight: 600;
  color: #1f2937;
}

.nicole-message em,
.nicole-message i {
  font-style: italic;
}

.nicole-message ul,
.nicole-message ol {
  margin: 0.75em 0;
  padding-left: 1.5em;
}

.nicole-message ul {
  list-style-type: disc;
}

.nicole-message ol {
  list-style-type: decimal;
}

.nicole-message li {
  margin: 0.375em 0;
  padding-left: 0.25em;
}

.nicole-message li::marker {
  color: #9B8AB8;
}

.nicole-message code {
  background: #f3f4f6;
  padding: 0.125em 0.375em;
  border-radius: 4px;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
  font-size: 0.9em;
  color: #1f2937;
}

.nicole-message pre {
  background: #1f2937;
  color: #e5e7eb;
  padding: 1em;
  border-radius: 8px;
  overflow-x: auto;
  margin: 1em 0;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
  font-size: 0.875em;
  line-height: 1.5;
}

.nicole-message pre code {
  background: transparent;
  padding: 0;
  color: inherit;
}

.nicole-message blockquote {
  border-left: 3px solid #B8A8D4;
  padding-left: 1em;
  margin: 1em 0;
  color: #6b7280;
  font-style: italic;
}

.nicole-message h1,
.nicole-message h2,
.nicole-message h3,
.nicole-message h4 {
  font-weight: 600;
  color: #1f2937;
  margin: 1.25em 0 0.5em;
}

.nicole-message h1 { font-size: 1.5em; }
.nicole-message h2 { font-size: 1.25em; }
.nicole-message h3 { font-size: 1.125em; }
.nicole-message h4 { font-size: 1em; }

.nicole-message a {
  color: #9B8AB8;
  text-decoration: underline;
}

.nicole-message a:hover {
  color: #7a6b94;
}

.nicole-message hr {
  border: none;
  border-top: 1px solid #e5e7eb;
  margin: 1.5em 0;
}

.nicole-message table {
  width: 100%;
  border-collapse: collapse;
  margin: 1em 0;
}

.nicole-message th,
.nicole-message td {
  border: 1px solid #e5e7eb;
  padding: 0.5em 0.75em;
  text-align: left;
}

.nicole-message th {
  background: #f9fafb;
  font-weight: 600;
}

/* Loading pulse */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Sidebar styles */
.sidebar {
  width: var(--sidebar-width);
  background: #1a1a1a;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}

.sidebar-logo {
  padding: 20px;
  border-bottom: 1px solid #333;
}

.menu-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 10px;
  color: #a1a1aa;
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  border: none;
  background: transparent;
  width: 100%;
  text-align: left;
  transition: all 0.15s;
}

.menu-item:hover {
  background: #2a2a2a;
  color: #ffffff;
}

.menu-item.active {
  background: #B8A8D4;
  color: #ffffff;
}

/* Header styles */
.nicole-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px;
  height: 72px;
  background: #F5F4ED;
  border-bottom: 1px solid #d8d7cc;
  flex-shrink: 0;
}

.header-title {
  font-family: Georgia, serif;
  font-size: 22px;
  font-weight: 500;
  color: #9B8AB8;
}

/* Input box styles */
.input-box {
  display: flex;
  flex-direction: column;
  padding: 16px 20px;
  border-radius: 24px;
  background: #ffffff;
  border: 1px solid #d1d5db;
  min-height: 140px;
}

.input-box:focus-within {
  border-color: #B8A8D4;
  box-shadow: 0 0 0 1px #B8A8D4;
}

.input-textarea {
  flex: 1;
  border: none;
  outline: none;
  resize: none;
  font-size: 15px;
  line-height: 1.5;
  color: #1f2937;
  font-family: inherit;
  min-height: 60px;
  max-height: 200px;
  background: transparent;
}

.input-textarea::placeholder {
  color: #9ca3af;
}

/* Tool button styles */
.tool-btn {
  width: 36px;
  height: 36px;
  border: none;
  background: transparent;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s;
}

.tool-btn:hover {
  background: #f3f4f6;
}

.tool-btn svg {
  width: 20px;
  height: 20px;
  stroke: #6b7280;
}

/* Voice button active states */
.tool-btn.voice-active {
  background: #fee2e2;
  animation: pulse-red 1.5s infinite;
}

.tool-btn.voice-active svg {
  stroke: #dc2626;
}

.tool-btn.voice-processing {
  background: #fef3c7;
  cursor: wait;
}

.tool-btn.voice-processing svg {
  stroke: #d97706;
  animation: spin 1s linear infinite;
}

.tool-btn.voice-enabled {
  background: #ddd6fe;
}

.tool-btn.voice-enabled svg {
  stroke: #7c3aed;
}

@keyframes pulse-red {
  0%, 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4); }
  50% { box-shadow: 0 0 0 8px rgba(220, 38, 38, 0); }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Send button */
.send-btn {
  width: 40px;
  height: 40px;
  border: none;
  border-radius: 50%;
  background: #B8A8D4;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s;
}

.send-btn:hover {
  background: #c9bce0;
}

.send-btn:active {
  background: #9B8AB8;
}

.send-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Model dropdown */
.model-dropdown {
  position: absolute;
  bottom: 100%;
  right: 0;
  margin-bottom: 8px;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.12);
  min-width: 160px;
  padding: 6px;
  z-index: 50;
}

.model-option {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 10px 12px;
  border: none;
  background: transparent;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  color: #374151;
  text-align: left;
}

.model-option:hover {
  background: #f3f4f6;
}

/* Dashboard panel */
.dashboard-panel {
  width: 0;
  height: 100vh;
  background: var(--dash-bg);
  border-left: 1px solid var(--dash-border);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  flex-shrink: 0;
  position: relative;
}

.dashboard-panel.open {
  width: var(--dashboard-width, 420px);
  box-shadow: -8px 0 32px rgba(0, 0, 0, 0.08);
}

/* Resize Handle */
.dashboard-resize-handle {
  position: absolute;
  top: 0;
  left: -4px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
  background: transparent;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
}

.dashboard-resize-handle::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 48px;
  background: #D1CEC4;
  border-radius: 4px;
  opacity: 0;
  transition: opacity 0.2s, background 0.2s, height 0.2s;
}

.dashboard-resize-handle:hover::before,
.dashboard-resize-handle.dragging::before {
  opacity: 1;
  background: var(--dash-accent);
  height: 64px;
}

/* Widget cards */
.widget-card {
  background: var(--dash-card-bg);
  border-radius: var(--dash-radius);
  border: 1px solid var(--dash-border);
  padding: var(--dash-padding);
  margin-bottom: var(--dash-gap);
  transition: box-shadow 0.2s, border-color 0.2s;
}

.widget-card:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
  border-color: #D1CEC4;
}

.widget-badge {
  padding: 4px 10px;
  background: #E8F5E9;
  color: #2E7D32;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
  white-space: nowrap;
}

.widget-badge.info {
  background: var(--dash-border);
  color: var(--dash-text-muted);
}

/* Progress bar */
.progress-bar {
  height: 8px;
  background: var(--dash-border);
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--dash-accent), var(--dash-accent-dark));
  border-radius: 4px;
  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Quick actions */
.quick-action {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px;
  background: var(--dash-card-hover);
  border: 1px solid transparent;
  border-radius: var(--dash-radius-sm);
  cursor: pointer;
  transition: all 0.15s;
}

.quick-action:hover {
  background: var(--dash-card-bg);
  border-color: var(--dash-accent);
  box-shadow: 0 2px 8px rgba(184, 168, 212, 0.2);
}

/* Resize cursor */
body.resizing {
  user-select: none;
  cursor: ew-resize;
}

body.resizing * {
  cursor: ew-resize !important;
}

/* Message styles */
.message-user .message-text {
  background: #E8E6DC;
  padding: 12px 16px;
  border-radius: 12px;
  display: inline-block;
}

.message-actions {
  display: flex;
  gap: 4px;
  margin-top: 12px;
  opacity: 0;
  transition: opacity 0.2s;
}

.message:hover .message-actions {
  opacity: 1;
}

/* Dashboard button */
.dashboard-btn {
  padding: 8px 16px;
  background: #B8A8D4;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.dashboard-btn:hover {
  background: #c9bce0;
}

.dashboard-btn.active {
  background: #9B8AB8;
}

/* Dashboard tabs */
.dashboard-tab {
  padding: 8px 16px;
  border: none;
  background: transparent;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
}

.dashboard-tab:hover {
  background: rgba(0, 0, 0, 0.04);
  color: #374151;
}

.dashboard-tab.active {
  background: #B8A8D4;
  color: white;
}

/* Empty state */
.empty-state {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.empty-title {
  font-family: Georgia, serif;
  font-size: 24px;
  font-weight: 500;
  color: #9B8AB8;
  margin-bottom: 8px;
}

.empty-subtitle {
  font-size: 15px;
  color: #6b7280;
}

/* Data items */
.data-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 14px;
  background: var(--dash-card-hover);
  border-radius: var(--dash-radius-sm);
  transition: background 0.15s;
}

.data-item:hover {
  background: #F0EFEA;
}

/* ════════════════════════════════════════════════════════════════════════════
   VIBE WORKSPACE - THE LEGEND
   ════════════════════════════════════════════════════════════════════════════ */

:root {
  /* Vibe - Dark Mode Excellence */
  --vibe-void: #09090B;
  --vibe-bg: #0C0C0E;
  --vibe-surface: #141417;
  --vibe-surface-2: #1A1A1F;
  --vibe-surface-3: #222228;
  --vibe-surface-glass: rgba(20, 20, 23, 0.8);
  --vibe-border: rgba(255, 255, 255, 0.06);
  --vibe-border-light: rgba(255, 255, 255, 0.1);
  --vibe-border-glow: rgba(184, 168, 212, 0.3);
  --vibe-text: #FAFAFA;
  --vibe-text-muted: #A1A1AA;
  --vibe-text-subtle: #63636E;
  
  /* Agent Energy */
  --energy-planning: #818CF8;
  --energy-research: #38BDF8;
  --energy-qa: #34D399;
  --energy-approver: #FBBF24;
  --energy-lead: #B8A8D4;
  
  /* States */
  --state-success: #22C55E;
  --state-warning: #EAB308;
  --state-error: #EF4444;
  --state-info: #3B82F6;
  
  /* Vibe Layout */
  --vibe-width: 75vw;
  --vibe-files-width: 240px;
  --vibe-agents-width: 280px;
}

.vibe-workspace {
  width: 0;
  height: 100vh;
  background: var(--vibe-bg);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  flex-shrink: 0;
  position: relative;
}

.vibe-workspace::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(ellipse 80% 50% at 50% -20%, rgba(184, 168, 212, 0.15), transparent),
    radial-gradient(ellipse 60% 40% at 100% 100%, rgba(139, 92, 246, 0.1), transparent);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.8s;
}

.vibe-workspace.open::before {
  opacity: 1;
}

.vibe-workspace.open {
  width: var(--vibe-width);
  border-left: 1px solid var(--vibe-border);
}

/* Expanded mode - takes full width, hides main chat */
/* IMPORTANT: Must have BOTH .open AND .expanded to take full width */
.vibe-workspace.open.expanded {
  /* Sidebar is 240px, leave room for it so we don't overflow viewport */
  width: calc(100vw - 240px);
  transition: width 0.3s ease;
  overflow: visible; /* Allow right-side panels to show fully */
}

.vibe-workspace.open.expanded .vibe-inner {
  width: 100%;
  min-width: 100%;
  overflow: visible; /* Let inner panels render without clipping */
}

/* Ensure agents panel is always visible in expanded mode */
.vibe-workspace.open.expanded .vibe-agents-panel {
  flex-shrink: 0;
  min-width: var(--vibe-agents-width);
}

/* Expand/Collapse toggle button */
.vibe-expand-toggle {
  position: absolute;
  left: -12px;
  top: 50%;
  transform: translateY(-50%);
  width: 24px;
  height: 48px;
  background: var(--vibe-surface);
  border: 1px solid var(--vibe-border);
  border-right: none;
  border-radius: 6px 0 0 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  transition: background 0.2s, transform 0.2s;
}

.vibe-expand-toggle:hover {
  background: var(--vibe-accent);
}

.vibe-expand-toggle svg {
  width: 14px;
  height: 14px;
  color: #A0A0A0;
}

.vibe-expand-toggle:hover svg {
  color: #fff;
}

.vibe-inner {
  width: var(--vibe-width);
  min-width: var(--vibe-width);
  height: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
}

.vibe-particle-canvas {
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.6;
}

/* ═══ Project Bar ═══ */
.vibe-project-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 20px;
  background: var(--vibe-surface-glass);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--vibe-border);
  flex-shrink: 0;
  position: relative;
  z-index: 10;
}

.vibe-project-bar-left {
  display: flex;
  align-items: center;
  gap: 16px;
}

/* Header status indicator - aligned with title */
.vibe-header-status {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  background: rgba(255, 255, 255, 0.06);
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.vibe-header-status .vibe-status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #22C55E;
  box-shadow: 0 0 8px rgba(34, 197, 94, 0.5);
}

.vibe-header-status .vibe-status-dot.working {
  animation: vibe-pulse 1.5s ease-in-out infinite;
}

.vibe-header-status .vibe-status-label {
  font-size: 13px;
  font-weight: 500;
  color: #FAFAFA;
  text-transform: capitalize;
}

.vibe-project-icon {
  width: 42px;
  height: 42px;
  border-radius: 12px;
  background: linear-gradient(135deg, #B8A8D4 0%, #8B5CF6 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 16px rgba(139, 92, 246, 0.4), inset 0 1px 0 rgba(255,255,255,0.2);
  position: relative;
  color: white;
}

.vibe-project-icon::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 16px;
  background: linear-gradient(135deg, #B8A8D4, #8B5CF6);
  filter: blur(12px);
  opacity: 0.4;
  z-index: -1;
  animation: vibe-icon-glow 3s ease-in-out infinite;
}

@keyframes vibe-icon-glow {
  0%, 100% { opacity: 0.3; transform: scale(0.95); }
  50% { opacity: 0.5; transform: scale(1.05); }
}

.vibe-project-icon svg {
  width: 22px;
  height: 22px;
}

.vibe-project-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* Brand label (project view) */
.vibe-brand {
  color: var(--vibe-text);
  font-weight: 700;
  margin-left: 8px;
  letter-spacing: 0.2px;
}

.vibe-project-name-input {
  background: transparent;
  border: none;
  font-size: 16px;
  font-weight: 600;
  color: var(--vibe-text);
  outline: none;
  padding: 4px 8px;
  border-radius: 6px;
  margin: -4px -8px;
  width: 200px;
  transition: all 0.2s;
}

.vibe-project-name-input:hover {
  background: var(--vibe-surface-2);
}

.vibe-project-name-input:focus {
  background: var(--vibe-surface-3);
  box-shadow: 0 0 0 2px #B8A8D4;
}

.vibe-project-status {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: var(--vibe-text-muted);
  padding-left: 8px;
}

.vibe-status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--state-success);
  box-shadow: 0 0 8px var(--state-success);
  animation: vibe-breathe 2s ease-in-out infinite;
}

.vibe-status-dot.working {
  background: #B8A8D4;
  box-shadow: 0 0 12px rgba(184, 168, 212, 0.5);
}

@keyframes vibe-breathe {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.2); opacity: 0.7; }
}

.vibe-project-bar-center {
  display: flex;
  align-items: center;
  gap: 6px;
}

.vibe-device-btn {
  width: 44px;
  height: 40px;
  border: 1px solid var(--vibe-border);
  background: var(--vibe-surface);
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  color: var(--vibe-text-subtle);
}

.vibe-device-btn:hover {
  background: var(--vibe-surface-2);
  border-color: var(--vibe-border-light);
  color: var(--vibe-text);
  transform: translateY(-2px);
}

.vibe-device-btn.active {
  background: linear-gradient(135deg, #B8A8D4, #8B5CF6);
  border-color: transparent;
  color: white;
  box-shadow: 0 4px 16px rgba(139, 92, 246, 0.4);
}

.vibe-device-btn svg {
  width: 20px;
  height: 20px;
  stroke: currentColor;
  stroke-width: 1.5;
  fill: none;
}

.vibe-view-tabs {
  display: flex;
  background: var(--vibe-surface);
  border: 1px solid var(--vibe-border);
  border-radius: 12px;
  padding: 4px;
  margin-left: 16px;
}

.vibe-view-tab {
  padding: 8px 16px;
  border: none;
  background: transparent;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  color: var(--vibe-text-muted);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.vibe-view-tab:hover {
  color: var(--vibe-text);
  background: var(--vibe-surface-2);
}

.vibe-view-tab.active {
  background: linear-gradient(135deg, #B8A8D4, #9B8AB8);
  color: white;
  box-shadow: 0 2px 8px rgba(184, 168, 212, 0.3);
}

.vibe-project-bar-right {
  display: flex;
  align-items: center;
  gap: 12px;
}

.vibe-api-cost {
  font-size: 11px;
  font-family: 'SF Mono', Monaco, monospace;
  color: var(--alphawave-text-secondary, #9ca3af);
  background: rgba(255, 255, 255, 0.05);
  padding: 4px 8px;
  border-radius: 4px;
  cursor: help;
}

.vibe-build-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 18px;
  background: linear-gradient(135deg, var(--state-success), #16A34A);
  border: none;
  border-radius: 10px;
  font-size: 13px;
  font-weight: 600;
  color: white;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  box-shadow: 0 4px 16px rgba(34, 197, 94, 0.3);
}

.vibe-build-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 24px rgba(34, 197, 94, 0.4);
}

.vibe-build-btn svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
}

.vibe-close-btn {
  width: 40px;
  height: 40px;
  border: 1px solid var(--vibe-border);
  background: var(--vibe-surface);
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.vibe-close-btn:hover {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
}

.vibe-close-btn svg {
  width: 18px;
  height: 18px;
  stroke: var(--vibe-text-muted);
  fill: none;
  stroke-width: 2;
  transition: stroke 0.2s;
}

.vibe-close-btn:hover svg {
  stroke: var(--state-error);
}

/* ═══ Workspace Main ═══ */
.vibe-workspace-main {
  flex: 1;
  display: flex;
  overflow: hidden;
  position: relative;
  min-width: 0; /* Allow flex child to shrink */
}

/* ═══ Files Panel ═══ */
.vibe-files-panel {
  width: var(--vibe-files-width);
  background: var(--vibe-surface);
  border-right: 1px solid var(--vibe-border);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}

.vibe-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px;
  border-bottom: 1px solid var(--vibe-border);
}

.vibe-panel-title {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--vibe-text-subtle);
}

.vibe-panel-actions {
  display: flex;
  gap: 4px;
}

.vibe-panel-action-btn {
  width: 28px;
  height: 28px;
  border: none;
  background: transparent;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--vibe-text-subtle);
  transition: all 0.2s;
}

.vibe-panel-action-btn:hover {
  background: var(--vibe-surface-2);
  color: var(--vibe-text);
}

.vibe-panel-action-btn svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
}

.vibe-files-tree {
  flex: 1;
  overflow-y: auto;
  padding: 8px 0;
}

.vibe-file-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 16px;
  cursor: pointer;
  transition: all 0.15s;
  position: relative;
  border-left: 2px solid transparent;
}

.vibe-file-item:hover {
  background: var(--vibe-surface-2);
}

.vibe-file-item.active {
  background: linear-gradient(90deg, rgba(184, 168, 212, 0.1), transparent);
  border-left-color: #B8A8D4;
}

.vibe-file-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.vibe-file-icon svg {
  width: 16px;
  height: 16px;
  stroke-width: 2;
  fill: none;
}

.vibe-file-icon.folder svg { stroke: #FBBF24; fill: rgba(251, 191, 36, 0.1); }
.vibe-file-icon.html svg { stroke: #F07178; }
.vibe-file-icon.css svg { stroke: #38BDF8; }
.vibe-file-icon.js svg { stroke: #FBBF24; }
.vibe-file-icon.json svg { stroke: #34D399; }
.vibe-file-icon.image svg { stroke: #FB7185; }
.vibe-file-icon.md svg { stroke: #A1A1AA; }

.vibe-file-name {
  font-size: 13px;
  color: var(--vibe-text);
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.vibe-file-status {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.vibe-file-status.modified { 
  background: var(--state-warning); 
  box-shadow: 0 0 6px rgba(234, 179, 8, 0.5);
}
.vibe-file-status.new { 
  background: var(--state-success); 
  box-shadow: 0 0 6px rgba(34, 197, 94, 0.5);
}
.vibe-file-status.error { 
  background: var(--state-error);
  box-shadow: 0 0 6px rgba(239, 68, 68, 0.5);
}

.vibe-file-children {
  padding-left: 20px;
}

.vibe-files-footer {
  padding: 12px 16px;
  border-top: 1px solid var(--vibe-border);
}

.vibe-new-file-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  padding: 10px 12px;
  border: 1px dashed var(--vibe-border-light);
  background: transparent;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  color: var(--vibe-text-muted);
  cursor: pointer;
  transition: all 0.2s;
}

.vibe-new-file-btn:hover {
  border-color: #B8A8D4;
  color: #B8A8D4;
  background: rgba(184, 168, 212, 0.05);
}

.vibe-new-file-btn svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
}

/* ═══ Preview Panel ═══ */
.vibe-preview-panel {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--vibe-bg);
  overflow: hidden;
  position: relative;
}

.vibe-preview-panel.hidden {
  display: none;
}

.vibe-preview-container {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  position: relative;
  background: radial-gradient(ellipse 100% 100% at 50% 50%, rgba(184, 168, 212, 0.03) 0%, transparent 60%);
}

.vibe-preview-container::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: 40px 40px;
  mask-image: radial-gradient(ellipse 80% 80% at 50% 50%, black, transparent);
}

.vibe-device-frame {
  background: var(--vibe-surface);
  border-radius: 16px;
  box-shadow: 
    0 0 0 1px var(--vibe-border),
    0 25px 80px -20px rgba(0, 0, 0, 0.6),
    0 0 60px rgba(184, 168, 212, 0.08);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
}

.vibe-device-frame::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 17px;
  padding: 1px;
  background: linear-gradient(135deg, var(--vibe-border-light), transparent, var(--vibe-border-light));
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  pointer-events: none;
}

.vibe-device-frame.desktop {
  width: 100%;
  max-width: 1100px;
  height: 100%;
}

.vibe-device-frame.tablet {
  width: 768px;
  height: calc(100% - 48px);
  max-height: 1024px;
}

.vibe-device-frame.mobile {
  width: 375px;
  height: calc(100% - 48px);
  max-height: 812px;
  border-radius: 40px;
}

.vibe-device-frame.mobile::before {
  border-radius: 41px;
}

.vibe-device-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  background: var(--vibe-surface-2);
  border-bottom: 1px solid var(--vibe-border);
}

.vibe-device-dots {
  display: flex;
  gap: 8px;
}

.vibe-device-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}

.vibe-device-dot.red { background: #FF5F57; box-shadow: inset 0 -1px 2px rgba(0,0,0,0.2); }
.vibe-device-dot.yellow { background: #FFBD2E; box-shadow: inset 0 -1px 2px rgba(0,0,0,0.2); }
.vibe-device-dot.green { background: #28CA42; box-shadow: inset 0 -1px 2px rgba(0,0,0,0.2); }

.vibe-device-url {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  background: var(--vibe-surface);
  border: 1px solid var(--vibe-border);
  border-radius: 8px;
  margin-left: 12px;
}

.vibe-device-url svg {
  width: 14px;
  height: 14px;
  stroke: var(--state-success);
  fill: none;
  stroke-width: 2;
}

.vibe-device-url span {
  font-size: 13px;
  color: var(--vibe-text-muted);
  font-family: 'SF Mono', Monaco, monospace;
}

.vibe-device-content {
  flex: 1;
  background: white;
  overflow: auto;
}

.vibe-preview-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  gap: 20px;
  padding: 40px;
  text-align: center;
  background: var(--vibe-surface);
}

.vibe-preview-placeholder-icon {
  width: 100px;
  height: 100px;
  border-radius: 24px;
  background: linear-gradient(135deg, var(--vibe-surface-2), var(--vibe-surface-3));
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 8px;
  position: relative;
}

.vibe-preview-placeholder-icon::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 26px;
  padding: 2px;
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.15), transparent);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
}

.vibe-preview-placeholder-icon svg {
  width: 48px;
  height: 48px;
  stroke: var(--vibe-text-subtle);
  fill: none;
  stroke-width: 1.5;
}

.vibe-preview-placeholder h3 {
  font-size: 20px;
  font-weight: 600;
  color: var(--vibe-text);
}

.vibe-preview-placeholder p {
  font-size: 14px;
  color: var(--vibe-text-muted);
  max-width: 320px;
  line-height: 1.6;
}

.vibe-shortcut {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-top: 16px;
  font-size: 12px;
  color: var(--vibe-text-subtle);
}

.vibe-shortcut kbd {
  padding: 4px 8px;
  background: var(--vibe-surface-2);
  border: 1px solid var(--vibe-border);
  border-radius: 6px;
  font-family: inherit;
  font-size: 11px;
  color: var(--vibe-text-muted);
}

/* ═══ Agents Panel ═══ */
.vibe-agents-panel {
  width: var(--vibe-agents-width);
  background: var(--vibe-surface);
  border-left: 1px solid var(--vibe-border);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  position: relative;
}

.vibe-agents-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 200px;
  background: linear-gradient(180deg, rgba(184, 168, 212, 0.05), transparent);
  pointer-events: none;
}

.vibe-agents-list {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Agent Card */
.vibe-agent-card {
  background: var(--vibe-surface-2);
  border: 1px solid var(--vibe-border);
  border-radius: 14px;
  padding: 16px;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

.vibe-agent-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--vibe-border);
  transition: all 0.3s;
}

.vibe-agent-card.working {
  border-color: var(--vibe-border-glow);
  box-shadow: 0 0 20px rgba(184, 168, 212, 0.1), inset 0 0 30px rgba(184, 168, 212, 0.03);
}

.vibe-agent-card.working::before {
  background: linear-gradient(90deg, #B8A8D4, #8B5CF6, #B8A8D4);
  background-size: 200% 100%;
  animation: vibe-shimmer 2s linear infinite;
}

@keyframes vibe-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.vibe-agent-card.complete::before {
  background: var(--state-success);
}

.vibe-agent-card.error::before {
  background: var(--state-error);
}

.vibe-agent-card:hover {
  transform: translateY(-2px);
  border-color: var(--vibe-border-light);
}

.vibe-agent-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 14px;
}

.vibe-agent-icon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
  position: relative;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}

.vibe-agent-icon.planning { background: linear-gradient(135deg, #818CF8, #6366F1); }
.vibe-agent-icon.research { background: linear-gradient(135deg, #38BDF8, #0EA5E9); }
.vibe-agent-icon.qa { background: linear-gradient(135deg, #34D399, #10B981); }
.vibe-agent-icon.approver { background: linear-gradient(135deg, #FBBF24, #F59E0B); }
.vibe-agent-icon.lead { background: linear-gradient(135deg, #B8A8D4, #8B5CF6); }

.vibe-agent-card.working .vibe-agent-icon::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 14px;
  background: inherit;
  filter: blur(8px);
  opacity: 0.5;
  animation: vibe-pulse-glow 2s ease-in-out infinite;
}

@keyframes vibe-pulse-glow {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.1); }
}

.vibe-agent-info {
  flex: 1;
  min-width: 0;
}

.vibe-agent-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--vibe-text);
  margin-bottom: 3px;
}

.vibe-agent-status-text {
  font-size: 12px;
  color: var(--vibe-text-muted);
  display: flex;
  align-items: center;
  gap: 6px;
}

.vibe-agent-status-text.working { color: #B8A8D4; }
.vibe-agent-status-text.complete { color: var(--state-success); }
.vibe-agent-status-text.error { color: var(--state-error); }

.vibe-spinner {
  width: 12px;
  height: 12px;
  border: 2px solid #B8A8D4;
  border-top-color: transparent;
  border-radius: 50%;
  animation: vibe-spin 0.8s linear infinite;
}

@keyframes vibe-spin {
  to { transform: rotate(360deg); }
}

.vibe-agent-progress {
  margin-top: 12px;
}

.vibe-agent-progress-bar {
  height: 6px;
  background: var(--vibe-surface-3);
  border-radius: 3px;
  overflow: hidden;
  position: relative;
}

.vibe-agent-progress-fill {
  height: 100%;
  border-radius: 3px;
  transition: width 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
}

.vibe-agent-progress-fill.working {
  background: linear-gradient(90deg, #B8A8D4, #8B5CF6);
}

.vibe-agent-progress-fill.working::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  animation: vibe-progress-shine 1.5s ease-in-out infinite;
}

@keyframes vibe-progress-shine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.vibe-agent-progress-fill.complete {
  background: var(--state-success);
}

.vibe-agent-progress-fill.error {
  background: var(--state-error);
}

.vibe-agent-progress-text {
  display: flex;
  justify-content: space-between;
  margin-top: 6px;
  font-size: 11px;
  color: var(--vibe-text-subtle);
}

/* Workflow */
.vibe-workflow-section {
  padding: 16px;
  border-top: 1px solid var(--vibe-border);
  background: linear-gradient(180deg, var(--vibe-surface), var(--vibe-surface-2));
}

.vibe-workflow-title {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--vibe-text-subtle);
  margin-bottom: 16px;
}

.vibe-workflow-visual {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.vibe-workflow-step {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  background: var(--vibe-surface);
  border: 1px solid var(--vibe-border);
  border-radius: 10px;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
}

.vibe-workflow-step::before {
  content: '';
  position: absolute;
  left: 23px;
  top: 100%;
  width: 2px;
  height: 8px;
  background: var(--vibe-border);
}

.vibe-workflow-step:last-child::before {
  display: none;
}

.vibe-workflow-step.complete {
  border-color: rgba(34, 197, 94, 0.3);
  background: rgba(34, 197, 94, 0.05);
}

.vibe-workflow-step.active {
  border-color: var(--vibe-border-glow);
  background: rgba(184, 168, 212, 0.1);
  box-shadow: 0 0 20px rgba(184, 168, 212, 0.1);
}

.vibe-workflow-step.active::before {
  background: #B8A8D4;
  box-shadow: 0 0 8px rgba(184, 168, 212, 0.5);
}

.vibe-workflow-step-num {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--vibe-surface-3);
  border: 2px solid var(--vibe-border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  color: var(--vibe-text-subtle);
  flex-shrink: 0;
  transition: all 0.3s;
}

.vibe-workflow-step.complete .vibe-workflow-step-num {
  background: var(--state-success);
  border-color: var(--state-success);
  color: white;
}

.vibe-workflow-step.active .vibe-workflow-step-num {
  background: #B8A8D4;
  border-color: #B8A8D4;
  color: white;
  box-shadow: 0 0 12px rgba(184, 168, 212, 0.5);
  animation: vibe-breathe 2s ease-in-out infinite;
}

.vibe-workflow-step-info {
  flex: 1;
  min-width: 0;
}

.vibe-workflow-step-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--vibe-text);
  margin-bottom: 2px;
}

.vibe-workflow-step-desc {
  font-size: 11px;
  color: var(--vibe-text-subtle);
}

.vibe-workflow-step.active .vibe-workflow-step-desc {
  color: #B8A8D4;
}

.vibe-workflow-step-check {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--state-success);
}

.vibe-workflow-step-check svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  fill: none;
  stroke-width: 3;
}

/* Activity Feed */
.vibe-activity-feed {
  border-top: 1px solid var(--vibe-border);
  background: var(--vibe-surface-2);
  max-height: 140px;
  overflow: hidden;
  transition: max-height 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.vibe-activity-feed.collapsed {
  max-height: 44px;
}

.vibe-activity-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  cursor: pointer;
  transition: background 0.2s;
}

.vibe-activity-header:hover {
  background: var(--vibe-surface-3);
}

.vibe-activity-title {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 12px;
  font-weight: 600;
  color: var(--vibe-text-muted);
}

.vibe-activity-title svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
}

.vibe-activity-badge {
  padding: 2px 10px;
  background: linear-gradient(135deg, #B8A8D4, #8B5CF6);
  border-radius: 12px;
  font-size: 11px;
  font-weight: 700;
  color: white;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

.vibe-activity-toggle {
  width: 24px;
  height: 24px;
  border: none;
  background: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--vibe-text-muted);
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.vibe-activity-feed.collapsed .vibe-activity-toggle {
  transform: rotate(180deg);
}

.vibe-activity-toggle svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
}

.vibe-activity-list {
  padding: 0 20px 16px;
}

.vibe-activity-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 10px 0;
  border-top: 1px solid var(--vibe-border);
  animation: vibe-slide-in 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes vibe-slide-in {
  from { opacity: 0; transform: translateX(-10px); }
  to { opacity: 1; transform: translateX(0); }
}

.vibe-activity-item:first-child {
  border-top: none;
}

.vibe-activity-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #B8A8D4;
  margin-top: 6px;
  flex-shrink: 0;
  box-shadow: 0 0 8px rgba(184, 168, 212, 0.5);
}

.vibe-activity-content {
  flex: 1;
  min-width: 0;
}

.vibe-activity-text {
  font-size: 13px;
  color: var(--vibe-text);
  line-height: 1.5;
}

.vibe-activity-text strong {
  color: #B8A8D4;
  font-weight: 600;
}

.vibe-activity-time {
  font-size: 11px;
  color: var(--vibe-text-subtle);
  margin-top: 4px;
}

/* Sidebar Vibe Button Styles */
.menu-item.vibe-btn {
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.1), rgba(139, 92, 246, 0.05));
  border: 1px solid rgba(184, 168, 212, 0.2);
}

.menu-item.vibe-btn:hover {
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.2), rgba(139, 92, 246, 0.1));
  border-color: rgba(184, 168, 212, 0.4);
}

.menu-item.vibe-active {
  background: linear-gradient(135deg, #B8A8D4 0%, #8B5CF6 100%) !important;
  color: white !important;
  border-color: transparent !important;
  box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4), inset 0 1px 0 rgba(255,255,255,0.2);
}

.menu-item.vibe-active::after {
  content: '';
  position: absolute;
  right: 12px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: white;
  box-shadow: 0 0 10px white;
  animation: vibe-breathe 2s ease-in-out infinite;
}

/* ═══ Code Panel - Traditional IDE Look ═══ */
.vibe-code-panel {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: #1e1e1e;
  overflow: hidden;
  min-width: 0;
}

.vibe-code-panel.hidden {
  display: none;
}

.vibe-code-panel.split-view {
  flex: 1;
  border-left: 1px solid var(--vibe-border);
}

.vibe-preview-panel.split-view {
  flex: 1;
}

/* Code Tabs - VS Code Style */
.vibe-code-tabs {
  display: flex;
  background: #252526;
  border-bottom: 1px solid #1e1e1e;
  overflow-x: auto;
  flex-shrink: 0;
}

.vibe-code-tabs::-webkit-scrollbar {
  height: 3px;
}

.vibe-code-tabs::-webkit-scrollbar-thumb {
  background: #424242;
}

.vibe-code-tab {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: #2d2d2d;
  border: none;
  border-right: 1px solid #1e1e1e;
  font-size: 13px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  color: #969696;
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
  position: relative;
}

.vibe-code-tab:hover {
  background: #323232;
  color: #cccccc;
}

.vibe-code-tab.active {
  background: #1e1e1e;
  color: #ffffff;
  border-top: 2px solid #B8A8D4;
  margin-top: -1px;
  padding-top: 7px;
}

.vibe-code-tab-icon {
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.vibe-code-tab-icon svg {
  width: 14px;
  height: 14px;
  stroke-width: 2;
  fill: none;
}

.vibe-code-tab-icon.html svg { stroke: #e34c26; }
.vibe-code-tab-icon.css svg { stroke: #264de4; }
.vibe-code-tab-icon.js svg { stroke: #f7df1e; }
.vibe-code-tab-icon.json svg { stroke: #f5de19; }
.vibe-code-tab-icon.md svg { stroke: #519aba; }

.vibe-code-tab-name {
  font-weight: 400;
}

.vibe-code-tab-modified {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #c5c5c5;
  margin-left: 4px;
}

.vibe-code-tab-close {
  width: 18px;
  height: 18px;
  border: none;
  background: transparent;
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: 4px;
  opacity: 0;
  transition: all 0.15s;
}

.vibe-code-tab:hover .vibe-code-tab-close {
  opacity: 0.5;
}

.vibe-code-tab-close:hover {
  opacity: 1 !important;
  background: #3c3c3c;
}

.vibe-code-tab-close svg {
  width: 12px;
  height: 12px;
  stroke: #cccccc;
  stroke-width: 2;
}

/* Code Editor Area */
.vibe-code-editor {
  flex: 1;
  display: flex;
  overflow: hidden;
  font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', 'JetBrains Mono', Monaco, Consolas, 'Courier New', monospace;
  font-size: 13px;
  line-height: 1.6;
}

/* Line Numbers - VS Code Style */
.vibe-code-line-numbers {
  width: 60px;
  padding: 16px 0;
  background: #1e1e1e;
  text-align: right;
  color: #858585;
  user-select: none;
  flex-shrink: 0;
  border-right: 1px solid #2d2d2d;
}

.vibe-line-number {
  padding: 0 16px 0 8px;
  height: 20.8px;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

.vibe-line-number:hover {
  color: #c6c6c6;
}

/* Code Content */
.vibe-code-content {
  flex: 1;
  overflow: auto;
  background: #1e1e1e;
  padding: 16px 0;
}

.vibe-code-pre {
  margin: 0;
  padding: 0 16px;
}

.vibe-code-line {
  height: 20.8px;
  padding: 0 8px;
  border-radius: 0;
  display: flex;
  align-items: center;
  white-space: pre;
  transition: background 0.1s;
}

.vibe-code-line:hover {
  background: rgba(255, 255, 255, 0.04);
}

.vibe-code-line.highlight {
  background: rgba(184, 168, 212, 0.1);
  border-left: 3px solid #B8A8D4;
  margin-left: -3px;
}

.vibe-code-line.active {
  background: #264f78;
}

/* Syntax Highlighting - VS Code Dark+ Theme */
.code-keyword { 
  color: #569cd6; 
}

.code-string { 
  color: #ce9178; 
}

.code-tag { 
  color: #569cd6; 
}

.code-attr { 
  color: #9cdcfe; 
}

.code-value { 
  color: #ce9178; 
}

.code-comment { 
  color: #6a9955; 
  font-style: italic; 
}

.code-function { 
  color: #dcdcaa; 
}

.code-number { 
  color: #b5cea8; 
}

.code-property { 
  color: #9cdcfe; 
}

.code-bracket { 
  color: #ffd700; 
}

.code-operator { 
  color: #d4d4d4; 
}

/* Status Bar - VS Code Style */
.vibe-code-statusbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 12px;
  height: 24px;
  background: #007acc;
  color: white;
  font-size: 12px;
  flex-shrink: 0;
}

.vibe-statusbar-left,
.vibe-statusbar-right {
  display: flex;
  align-items: center;
  gap: 2px;
}

.vibe-statusbar-item {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 0 8px;
  height: 24px;
  cursor: pointer;
  transition: background 0.15s;
}

.vibe-statusbar-item:hover {
  background: rgba(255, 255, 255, 0.12);
}

.vibe-statusbar-item svg {
  width: 12px;
  height: 12px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
}

/* Minimap (optional visual flair) */
.vibe-code-minimap {
  width: 60px;
  background: #1e1e1e;
  border-left: 1px solid #2d2d2d;
  overflow: hidden;
  flex-shrink: 0;
}

/* Code scrollbar styling */
.vibe-code-content::-webkit-scrollbar {
  width: 14px;
  height: 14px;
}

.vibe-code-content::-webkit-scrollbar-track {
  background: #1e1e1e;
}

.vibe-code-content::-webkit-scrollbar-thumb {
  background: #424242;
  border: 3px solid #1e1e1e;
  border-radius: 7px;
}

.vibe-code-content::-webkit-scrollbar-thumb:hover {
  background: #4f4f4f;
}

.vibe-code-content::-webkit-scrollbar-corner {
  background: #1e1e1e;
}

/* ═══════════════════════════════════════════════════════════════════════
   VIBE PROJECTS VIEW
   ═══════════════════════════════════════════════════════════════════════ */

.vibe-projects-view {
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 24px;
  overflow-y: auto;
}

.vibe-projects-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
}

.vibe-projects-title {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 24px;
  font-weight: 700;
  color: #FAFAFA;
}

.vibe-projects-title svg {
  width: 32px;
  height: 32px;
  stroke: var(--lavender, #B8A8D4);
}

.vibe-new-project-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  background: linear-gradient(135deg, var(--lavender, #B8A8D4) 0%, var(--lavender-dark, #9B8AB8) 100%);
  border: none;
  border-radius: 10px;
  color: white;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.vibe-new-project-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(184, 168, 212, 0.4);
}

.vibe-new-project-btn svg {
  width: 16px;
  height: 16px;
  stroke: white;
  stroke-width: 2;
}

/* New Project Form */
.vibe-new-project-form {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.vibe-new-project-form h3 {
  font-size: 18px;
  font-weight: 600;
  color: #FAFAFA;
  margin-bottom: 20px;
}

.vibe-form-group {
  margin-bottom: 16px;
}

.vibe-form-group label {
  display: block;
  font-size: 13px;
  font-weight: 500;
  color: #A1A1AA;
  margin-bottom: 8px;
}

.vibe-form-group input {
  width: 100%;
  padding: 12px 16px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  color: #FAFAFA;
  font-size: 14px;
  transition: all 0.2s;
}

.vibe-form-group input:focus {
  outline: none;
  border-color: var(--lavender, #B8A8D4);
  background: rgba(255, 255, 255, 0.08);
}

.vibe-form-group input::placeholder {
  color: #6B6B6B;
}

.vibe-form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.vibe-type-selector {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}

.vibe-type-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 16px 12px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  color: #A1A1AA;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.vibe-type-option:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.15);
}

.vibe-type-option.active {
  background: rgba(184, 168, 212, 0.15);
  border-color: var(--lavender, #B8A8D4);
  color: #FAFAFA;
}

.vibe-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 24px;
}

.vibe-btn-secondary {
  padding: 10px 20px;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 10px;
  color: #A1A1AA;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.vibe-btn-secondary:hover {
  background: rgba(255, 255, 255, 0.05);
  color: #FAFAFA;
}

.vibe-btn-primary {
  padding: 10px 20px;
  background: linear-gradient(135deg, var(--lavender, #B8A8D4) 0%, var(--lavender-dark, #9B8AB8) 100%);
  border: none;
  border-radius: 10px;
  color: white;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.vibe-btn-primary:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(184, 168, 212, 0.4);
}

.vibe-btn-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Projects Grid */
.vibe-projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 16px;
}

.vibe-project-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.2s;
}

.vibe-project-card:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: var(--lavender, #B8A8D4);
  transform: translateY(-2px);
}

.vibe-project-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}

.vibe-project-type-icon {
  font-size: 24px;
}

.vibe-project-status-badge {
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  color: white;
}

.vibe-project-card-title {
  font-size: 16px;
  font-weight: 600;
  color: #FAFAFA;
  margin-bottom: 4px;
}

.vibe-project-card-client {
  font-size: 13px;
  color: #A1A1AA;
  margin-bottom: 12px;
}

.vibe-project-card-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.vibe-project-card-date {
  font-size: 12px;
  color: #6B6B6B;
}

.vibe-project-card-link {
  font-size: 12px;
  color: var(--lavender, #B8A8D4);
  text-decoration: none;
}

.vibe-project-card-link:hover {
  text-decoration: underline;
}

/* Empty State */
.vibe-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 64px 24px;
  text-align: center;
  grid-column: 1 / -1;
}

.vibe-empty-state svg {
  width: 64px;
  height: 64px;
  stroke: #4B4B4B;
  margin-bottom: 16px;
}

.vibe-empty-state h3 {
  font-size: 18px;
  font-weight: 600;
  color: #FAFAFA;
  margin-bottom: 8px;
}

.vibe-empty-state p {
  font-size: 14px;
  color: #6B6B6B;
  margin-bottom: 24px;
}

.vibe-loading {
  text-align: center;
  padding: 48px;
  color: #A1A1AA;
  grid-column: 1 / -1;
}

.vibe-error {
  text-align: center;
  padding: 24px;
  color: #EF4444;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 8px;
  grid-column: 1 / -1;
}

/* ═══════════════════════════════════════════════════════════════════════
   VIBE INTAKE CHAT
   ═══════════════════════════════════════════════════════════════════════ */

.vibe-intake-chat {
  display: flex;
  flex-direction: column;
  height: 100%;
  background: #0f0f11;
}

.vibe-intake-header {
  padding: 24px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.vibe-intake-header h3 {
  font-size: 18px;
  font-weight: 600;
  color: #FAFAFA;
  margin-bottom: 8px;
}

.vibe-intake-header p {
  font-size: 14px;
  color: #A1A1AA;
}

.vibe-intake-messages {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
}

.vibe-intake-message {
  margin-bottom: 16px;
}

.vibe-intake-message.user .vibe-message-content {
  background: linear-gradient(135deg, var(--lavender, #B8A8D4) 0%, var(--lavender-dark, #9B8AB8) 100%);
  color: white;
  border-radius: 16px 16px 4px 16px;
  padding: 12px 16px;
  max-width: 80%;
  margin-left: auto;
}

.vibe-intake-message.assistant .vibe-message-content {
  background: rgba(255, 255, 255, 0.05);
  color: #FAFAFA;
  border-radius: 16px 16px 16px 4px;
  padding: 12px 16px;
  max-width: 80%;
}

.vibe-intake-starter {
  padding: 24px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  color: #A1A1AA;
}

.vibe-intake-starter p {
  font-weight: 500;
  color: #FAFAFA;
  margin-bottom: 12px;
}

.vibe-intake-starter ul {
  list-style: none;
  padding: 0;
}

.vibe-intake-starter li {
  padding: 8px 0;
  padding-left: 20px;
  position: relative;
}

.vibe-intake-starter li::before {
  content: '→';
  position: absolute;
  left: 0;
  color: var(--lavender, #B8A8D4);
}

/* ═══ Markdown Formatting in Vibe Chat ═══ */
.vibe-message-content .vibe-md-para {
  margin: 0 0 12px 0;
  line-height: 1.6;
}

.vibe-message-content .vibe-md-para:last-child {
  margin-bottom: 0;
}

.vibe-message-content .vibe-md-list {
  margin: 8px 0 12px 0;
  padding-left: 24px;
}

.vibe-message-content ol.vibe-md-list {
  list-style: decimal;
}

.vibe-message-content ul.vibe-md-list {
  list-style: disc;
}

.vibe-message-content .vibe-md-list li {
  margin-bottom: 6px;
  line-height: 1.5;
}

.vibe-message-content .vibe-md-list li:last-child {
  margin-bottom: 0;
}

.vibe-message-content strong {
  font-weight: 600;
  color: #fff;
}

.vibe-message-content em {
  font-style: italic;
  color: var(--lavender-light, #D4C8E8);
}

.vibe-message-content .vibe-md-code {
  background: rgba(0, 0, 0, 0.3);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'SF Mono', 'Fira Code', monospace;
  font-size: 0.9em;
}

/* ============================================================================
   VIBE SCREENSHOT THUMBNAILS & LIGHTBOX
   ============================================================================ */

.vibe-message-images {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 12px;
}

.vibe-screenshot-thumb {
  position: relative;
  width: 140px;
  height: 90px;
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.3);
  transition: all 0.2s ease;
}

.vibe-screenshot-thumb:hover {
  transform: scale(1.02);
  border-color: var(--lavender, #B8A8D4);
  box-shadow: 0 4px 16px rgba(184, 168, 212, 0.25);
}

.vibe-screenshot-thumb.loading {
  display: flex;
  align-items: center;
  justify-content: center;
}

.vibe-screenshot-loader {
  font-size: 24px;
  animation: pulse 1.5s ease-in-out infinite;
}

.vibe-screenshot-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 0.3s ease;
}

.vibe-screenshot-thumb.loading img {
  opacity: 0;
  position: absolute;
}

.vibe-screenshot-thumb.loaded img {
  opacity: 1;
}

.vibe-screenshot-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.vibe-screenshot-thumb:hover .vibe-screenshot-overlay {
  opacity: 1;
}

.vibe-screenshot-overlay svg {
  width: 24px;
  height: 24px;
  color: white;
}

.vibe-screenshot-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  width: 140px;
  height: 90px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  color: #A1A1AA;
  font-size: 11px;
}

.vibe-screenshot-error span:first-child {
  font-size: 20px;
}

/* Lightbox Overlay */
.vibe-lightbox-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  background: rgba(0, 0, 0, 0.92);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.vibe-lightbox-content {
  position: relative;
  max-width: 90vw;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: scaleIn 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes scaleIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.vibe-lightbox-close {
  position: absolute;
  top: -40px;
  right: -10px;
  width: 36px;
  height: 36px;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.vibe-lightbox-close:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}

.vibe-lightbox-close svg {
  width: 20px;
  height: 20px;
  color: white;
}

.vibe-lightbox-image {
  max-width: 100%;
  max-height: 80vh;
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  object-fit: contain;
}

.vibe-lightbox-caption {
  margin-top: 16px;
  color: #A1A1AA;
  font-size: 14px;
  text-align: center;
  max-width: 600px;
}

.vibe-intake-input-area {
  display: flex;
  gap: 12px;
  padding: 16px 24px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  background: #0a0a0b;
}

.vibe-intake-input-area textarea {
  flex: 1;
  padding: 12px 16px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  color: #FAFAFA;
  font-size: 14px;
  resize: none;
  min-height: 48px;
  max-height: 120px;
}

.vibe-intake-input-area textarea:focus {
  outline: none;
  border-color: var(--lavender, #B8A8D4);
}

.vibe-intake-input-area button {
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, var(--lavender, #B8A8D4) 0%, var(--lavender-dark, #9B8AB8) 100%);
  border: none;
  border-radius: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.vibe-intake-input-area button:hover:not(:disabled) {
  transform: scale(1.05);
}

.vibe-intake-input-area button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.vibe-intake-input-area button svg {
  width: 20px;
  height: 20px;
  stroke: white;
  stroke-width: 2;
  fill: none;
}

/* Back Button */
.vibe-back-btn {
  width: 36px;
  height: 36px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
  margin-right: 12px;
}

.vibe-back-btn:hover {
  background: rgba(255, 255, 255, 0.1);
}

.vibe-back-btn svg {
  width: 18px;
  height: 18px;
  stroke: #A1A1AA;
  stroke-width: 2;
  fill: none;
}

/* Client Name Display */
.vibe-client-name {
  color: #6B6B6B;
  margin-left: 8px;
}

.vibe-project-links {
  display: flex;
  gap: 12px;
  margin-top: 6px;
}

.vibe-project-links a {
  font-size: 12px;
  color: var(--lavender, #B8A8D4);
  text-decoration: none;
}

.vibe-project-links a:hover {
  text-decoration: underline;
}

/* Pipeline/Approve/Deploy Buttons */
.vibe-deploy-btn,
.vibe-approve-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  border: none;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.vibe-deploy-btn {
  background: #10B981;
  color: white;
}

.vibe-deploy-btn:hover {
  background: #059669;
}

.vibe-approve-btn {
  background: #8B5CF6;
  color: white;
}

.vibe-approve-btn:hover {
  background: #7C3AED;
}

.vibe-retry-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: rgba(251, 191, 36, 0.15);
  border: 1px solid rgba(251, 191, 36, 0.4);
  border-radius: 8px;
  font-size: 12px;
  font-weight: 500;
  color: #FBBF24;
  cursor: pointer;
  transition: all 0.2s;
}

.vibe-retry-btn:hover {
  background: rgba(251, 191, 36, 0.25);
  border-color: rgba(251, 191, 36, 0.6);
}

.vibe-retry-btn svg {
  width: 14px;
  height: 14px;
}

.vibe-deploy-btn svg,
.vibe-approve-btn svg {
  width: 16px;
  height: 16px;
  stroke: white;
  stroke-width: 2;
  fill: none;
}

/* StackBlitz Button */
.vibe-stackblitz-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: linear-gradient(135deg, #1389FD, #0969DA);
  border: none;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(19, 137, 253, 0.3);
}

.vibe-stackblitz-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(19, 137, 253, 0.4);
  background: linear-gradient(135deg, #2196F3, #1389FD);
}

.vibe-stackblitz-btn svg {
  width: 14px;
  height: 14px;
  stroke: white;
  stroke-width: 2;
  fill: none;
}

/* Files Empty */
.vibe-files-empty {
  padding: 24px 16px;
  text-align: center;
  color: #6B6B6B;
  font-size: 13px;
}

/* Files Loading */
.vibe-files-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 24px 16px;
  color: #6B6B6B;
  font-size: 13px;
}

.vibe-spinner-small {
  width: 20px;
  height: 20px;
  border: 2px solid rgba(139, 92, 246, 0.2);
  border-top-color: #8B5CF6;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Files Error */
.vibe-files-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 16px;
  text-align: center;
  color: #EF4444;
  font-size: 13px;
}

.vibe-error-icon {
  font-size: 20px;
}

.vibe-btn-small {
  padding: 4px 12px;
  font-size: 12px;
}

/* Code Empty */
.vibe-code-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: #6B6B6B;
  font-size: 14px;
}

/* Activity Empty */
.vibe-activity-empty {
  text-align: center;
  padding: 16px;
  color: #6B6B6B;
  font-size: 13px;
}

.vibe-activity-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 16px;
  color: #EF4444;
  font-size: 13px;
}

.vibe-activity-error button {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  color: #EF4444;
  padding: 4px 12px;
  border-radius: 4px;
  font-size: 12px;
  cursor: pointer;
}

.vibe-activity-error button:hover {
  background: rgba(239, 68, 68, 0.2);
}

/* Loading screen */
.vibe-loading-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 400px;
  gap: 16px;
  color: #A0A0A0;
}

.vibe-loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid rgba(110, 231, 183, 0.2);
  border-top-color: #6EE7B7;
  border-radius: 50%;
  animation: vibe-spin 0.8s linear infinite;
}

/* Error boundary */
.vibe-error-boundary {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 400px;
  padding: 32px;
  text-align: center;
}

.vibe-error-content {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 12px;
  padding: 24px;
  max-width: 400px;
}

.vibe-error-content h3 {
  color: #EF4444;
  margin: 0 0 8px 0;
  font-size: 18px;
}

.vibe-error-content p {
  color: #A0A0A0;
  margin: 0 0 16px 0;
  font-size: 14px;
}

/* ═══════════════════════════════════════════════════════════════════════
   MEMORY DASHBOARD PANEL
   ═══════════════════════════════════════════════════════════════════════ */

.mem-dashboard-panel {
  width: 0;
  height: 100vh;
  background: var(--dash-bg, #FAF9F6);
  border-left: 1px solid var(--dash-border, #E8E6DC);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  flex-shrink: 0;
  position: relative;
}

.mem-dashboard-panel.mem-open {
  width: var(--mem-dashboard-width, 520px);
  box-shadow: -8px 0 32px rgba(0, 0, 0, 0.08);
}

.mem-dashboard-inner {
  width: var(--mem-dashboard-width, 520px);
  min-width: var(--mem-dashboard-width, 520px);
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Resize Handle */
.mem-resize-handle {
  position: absolute;
  top: 0;
  left: -4px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
  z-index: 10;
}

.mem-resize-handle::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 48px;
  background: #D1CEC4;
  border-radius: 4px;
  opacity: 0;
  transition: all 0.2s;
}

.mem-resize-handle:hover::before,
.mem-resize-handle.mem-dragging::before {
  opacity: 1;
  background: var(--lavender);
  height: 64px;
}

/* Dashboard Header */
.mem-dash-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid var(--dash-border, #E8E6DC);
  background: var(--dash-bg, #FAF9F6);
  flex-shrink: 0;
}

.mem-dash-header-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.mem-dash-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: linear-gradient(135deg, var(--lavender, #B8A8D4) 0%, var(--lavender-dark, #9B8AB8) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
}

.mem-dash-icon svg {
  width: 18px;
  height: 18px;
  stroke: white;
  stroke-width: 2;
}

.mem-dash-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary, #1f2937);
}

.mem-dash-close-btn {
  width: 32px;
  height: 32px;
  border: none;
  background: transparent;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mem-dash-close-btn:hover { background: rgba(0,0,0,0.06); }
.mem-dash-close-btn svg { width: 18px; height: 18px; stroke: var(--text-secondary, #6b7280); stroke-width: 2; }

/* Dashboard Tabs */
.mem-dash-tabs {
  display: flex;
  padding: 8px 16px;
  gap: 4px;
  border-bottom: 1px solid var(--dash-border, #E8E6DC);
  background: var(--dash-bg, #FAF9F6);
  flex-shrink: 0;
  overflow-x: auto;
}

.mem-dash-tab {
  padding: 8px 14px;
  border: none;
  background: transparent;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  color: var(--text-secondary, #6b7280);
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.15s;
}

.mem-dash-tab:hover {
  background: rgba(0,0,0,0.04);
  color: var(--text-primary, #1f2937);
}

.mem-dash-tab.mem-active {
  background: var(--lavender, #B8A8D4);
  color: white;
}

/* Dashboard Content */
.mem-dash-content {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.mem-dash-content::-webkit-scrollbar { width: 6px; }
.mem-dash-content::-webkit-scrollbar-track { background: transparent; }
.mem-dash-content::-webkit-scrollbar-thumb { background: #D1CEC4; border-radius: 3px; }
.mem-dash-content::-webkit-scrollbar-thumb:hover { background: var(--lavender); }

/* Tab Panels */
.mem-tab-panel { display: block; }

/* Widget Cards */
.mem-widget {
  background: var(--dash-card, #FFFFFF);
  border-radius: 12px;
  border: 1px solid var(--dash-border, #E8E6DC);
  padding: 20px;
  margin-bottom: 16px;
}

.mem-widget:last-child { margin-bottom: 0; }

.mem-widget:hover {
  box-shadow: 0 4px 16px rgba(0,0,0,0.06);
  border-color: #D1CEC4;
}

.mem-widget-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 16px;
}

.mem-widget-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary, #1f2937);
  display: flex;
  align-items: center;
  gap: 8px;
}

.mem-widget-title svg {
  stroke: var(--lavender);
}

.mem-widget-badge {
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
}

.mem-badge-success { background: #D1FAE5; color: #065F46; }
.mem-badge-warning { background: #FEF3C7; color: #92400E; }
.mem-badge-info { background: var(--dash-border, #E8E6DC); color: var(--text-secondary, #6b7280); }
.mem-badge-error { background: #FEE2E2; color: #991B1B; }

/* Stat Grid */
.mem-stat-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.mem-stat-grid-4 { grid-template-columns: repeat(4, 1fr); }
.mem-stat-grid-2 { grid-template-columns: repeat(2, 1fr); }

.mem-stat-box {
  padding: 14px 12px;
  background: var(--dash-hover, #F5F4ED);
  border-radius: 8px;
  text-align: center;
}

.mem-stat-value {
  font-size: 24px;
  font-weight: 700;
  color: var(--text-primary, #1f2937);
  margin-bottom: 4px;
}

.mem-stat-value.mem-highlight { color: var(--lavender); }
.mem-stat-value.mem-success { color: #10B981; }
.mem-stat-value.mem-warning { color: #F59E0B; }
.mem-stat-value.mem-small { font-size: 18px; }

.mem-stat-label {
  font-size: 11px;
  color: var(--text-secondary, #6b7280);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 500;
}

.mem-stat-sublabel {
  font-size: 10px;
  color: var(--text-muted, #9ca3af);
  margin-top: 2px;
}

/* Progress Bars */
.mem-progress-bar {
  height: 8px;
  background: var(--dash-border, #E8E6DC);
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 8px;
}

.mem-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--lavender), var(--lavender-dark));
  border-radius: 4px;
  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.mem-progress-fill.mem-progress-success { background: linear-gradient(90deg, #34D399, #10B981); }
.mem-progress-fill.mem-progress-warning { background: linear-gradient(90deg, #FBBF24, #F59E0B); }
.mem-progress-fill.mem-progress-error { background: linear-gradient(90deg, #F87171, #EF4444); }

.mem-progress-labels {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  color: var(--text-secondary, #6b7280);
}

/* Memory List */
.mem-memory-list { display: flex; flex-direction: column; gap: 8px; }

.mem-memory-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 14px;
  background: var(--dash-hover, #F5F4ED);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
  border: 1px solid transparent;
}

.mem-memory-item:hover {
  background: var(--white, #FFFFFF);
  border-color: var(--lavender);
}

.mem-memory-type-badge {
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  flex-shrink: 0;
}

.mem-type-fact { background: #DBEAFE; color: #1E40AF; }
.mem-type-preference { background: #FCE7F3; color: #9D174D; }
.mem-type-pattern { background: #D1FAE5; color: #065F46; }
.mem-type-correction { background: #FEF3C7; color: #92400E; }
.mem-type-relationship { background: #E0E7FF; color: #3730A3; }
.mem-type-goal { background: #FEE2E2; color: #991B1B; }

.mem-memory-content { flex: 1; min-width: 0; }

.mem-memory-text {
  font-size: 13px;
  color: var(--text-primary, #1f2937);
  line-height: 1.5;
  margin-bottom: 6px;
}

.mem-memory-meta {
  display: flex;
  gap: 12px;
  font-size: 11px;
  color: var(--text-muted, #9ca3af);
}

.mem-memory-confidence {
  display: flex;
  align-items: center;
  gap: 4px;
}

.mem-confidence-bar {
  width: 40px;
  height: 4px;
  background: var(--dash-border, #E8E6DC);
  border-radius: 2px;
  overflow: hidden;
}

.mem-confidence-fill {
  height: 100%;
  background: var(--lavender);
  border-radius: 2px;
}

/* Search Input */
.mem-search-input-wrapper {
  position: relative;
  margin-bottom: 16px;
}

.mem-search-input {
  width: 100%;
  padding: 10px 12px 10px 36px;
  border: 1px solid var(--dash-border, #E8E6DC);
  border-radius: 8px;
  font-size: 14px;
  background: var(--white, #FFFFFF);
  outline: none;
}

.mem-search-input:focus {
  border-color: var(--lavender);
  box-shadow: 0 0 0 2px rgba(184, 168, 212, 0.2);
}

.mem-search-icon {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  stroke: var(--text-muted, #9ca3af);
  stroke-width: 2;
}

/* Filter Pills */
.mem-filter-pills {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.mem-filter-pill {
  padding: 5px 10px;
  border: 1px solid var(--dash-border, #E8E6DC);
  border-radius: 16px;
  font-size: 12px;
  color: var(--text-secondary, #6b7280);
  background: transparent;
  cursor: pointer;
  transition: all 0.15s;
}

.mem-filter-pill:hover {
  border-color: var(--lavender, #8B5CF6);
  color: var(--lavender, #8B5CF6);
}

.mem-filter-pill.mem-active {
  background: var(--lavender, #8B5CF6);
  border-color: var(--lavender, #8B5CF6);
  color: #ffffff !important;
}

/* Research Panel specific overrides for visibility */
.mem-dashboard-panel .mem-filter-pill {
  background: var(--research-surface, #f8f8f8);
  border-color: var(--research-border, #e5e5e5);
  color: var(--research-text-muted, #666666);
}

.mem-dashboard-panel .mem-filter-pill:hover {
  background: var(--research-surface-elevated, #f0f0f0);
  border-color: #8B5CF6;
  color: #8B5CF6;
}

.mem-dashboard-panel .mem-filter-pill.mem-active {
  background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%);
  border-color: #8B5CF6;
  color: #ffffff !important;
}

/* Research Panel - Example Buttons */
.research-example-btn {
  width: 100%;
  padding: 12px 16px;
  text-align: left;
  background: var(--alphawave-surface, rgba(184, 168, 212, 0.08));
  border: 1px solid var(--dash-border, #E8E6DC);
  border-radius: 8px;
  font-size: 13px;
  color: var(--alphawave-text-secondary, #6b7280);
  cursor: pointer;
  transition: all 0.2s ease;
}
.research-example-btn:hover:not(:disabled) {
  background: var(--alphawave-surface-hover, rgba(184, 168, 212, 0.15));
  border-color: var(--lavender, #B8A8D4);
  color: var(--lavender, #B8A8D4);
}
.research-example-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Research Panel - Icon color */
.research-icon {
  background: linear-gradient(135deg, #4285f4, #34a853) !important;
}

/* Document List */
.mem-document-list { display: flex; flex-direction: column; gap: 8px; }

.mem-doc-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  background: var(--dash-hover, #F5F4ED);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
}

.mem-doc-item:hover { background: #F0EFEA; }

.mem-doc-icon {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: var(--dash-border, #E8E6DC);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.mem-doc-icon svg { width: 18px; height: 18px; stroke: var(--text-secondary, #6b7280); stroke-width: 2; }
.mem-doc-icon.mem-doc-icon-pdf { background: #FEE2E2; }
.mem-doc-icon.mem-doc-icon-pdf svg { stroke: #DC2626; }
.mem-doc-icon.mem-doc-icon-image { background: #DBEAFE; }
.mem-doc-icon.mem-doc-icon-image svg { stroke: #2563EB; }
.mem-doc-icon.mem-doc-icon-code { background: #D1FAE5; }
.mem-doc-icon.mem-doc-icon-code svg { stroke: #059669; }

.mem-doc-info { flex: 1; min-width: 0; }

.mem-doc-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary, #1f2937);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.mem-doc-meta {
  font-size: 12px;
  color: var(--text-muted, #9ca3af);
  margin-top: 2px;
}

.mem-doc-status {
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
}

.mem-status-processed { background: #D1FAE5; color: #065F46; }
.mem-status-processing { background: #FEF3C7; color: #92400E; }
.mem-status-pending { background: var(--dash-border, #E8E6DC); color: var(--text-secondary, #6b7280); }

/* Chat History List */
.mem-chat-history-list { display: flex; flex-direction: column; gap: 8px; }

.mem-chat-item {
  padding: 12px 14px;
  background: var(--dash-hover, #F5F4ED);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
}

.mem-chat-item:hover { background: #F0EFEA; }

.mem-chat-title {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary, #1f2937);
  margin-bottom: 4px;
}

.mem-chat-preview {
  font-size: 13px;
  color: var(--text-secondary, #6b7280);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 6px;
}

.mem-chat-meta {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: var(--text-muted, #9ca3af);
}

.mem-chat-memories-created {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--lavender);
}

/* Mini Chart */
.mem-mini-chart {
  display: flex;
  align-items: flex-end;
  gap: 4px;
  height: 60px;
  padding: 8px 0;
}

.mem-chart-bar {
  flex: 1;
  background: var(--lavender);
  border-radius: 2px;
  transition: height 0.3s;
  opacity: 0.7;
}

.mem-chart-bar:hover { opacity: 1; }

/* System Metrics */
.mem-metric-row {
  display: flex;
  justify-content: space-between;
  padding: 10px 0;
  border-bottom: 1px solid var(--dash-border, #E8E6DC);
}

.mem-metric-row:last-child { border-bottom: none; }

.mem-metric-label {
  font-size: 13px;
  color: var(--text-secondary, #6b7280);
}

.mem-metric-value {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary, #1f2937);
}

.mem-metric-value.mem-good { color: #10B981; }
.mem-metric-value.mem-warn { color: #F59E0B; }

/* Dashboard Footer */
.mem-dash-footer {
  padding: 12px 20px;
  border-top: 1px solid var(--dash-border, #E8E6DC);
  background: var(--dash-bg, #FAF9F6);
  flex-shrink: 0;
}

.mem-dash-footer-text {
  font-size: 12px;
  color: var(--text-muted, #9ca3af);
  text-align: center;
}

/* ═══════════════════════════════════════════════════════════════════════
   SKILLS TAB - Integrated into Memory Dashboard
   Nicole V7 Skills System UI
   ═══════════════════════════════════════════════════════════════════════ */

.skills-tab {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Offline/Preview Mode Banner */
.skills-offline-banner {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(251, 191, 36, 0.08) 100%);
  border: 1px solid rgba(245, 158, 11, 0.2);
  border-radius: var(--dash-radius-sm, 8px);
  font-size: 13px;
}

.skills-offline-banner svg {
  width: 20px;
  height: 20px;
  stroke: #D97706;
  flex-shrink: 0;
}

.skills-offline-text {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.skills-offline-text strong {
  color: #B45309;
  font-size: 13px;
}

.skills-offline-text span {
  color: #92400E;
  font-size: 12px;
}

/* Error Banner */
.skills-error-banner {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(239, 68, 68, 0.08);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: var(--dash-radius-sm, 8px);
  font-size: 13px;
  color: #DC2626;
}

.skills-error-banner svg {
  width: 18px;
  height: 18px;
  stroke: #DC2626;
  flex-shrink: 0;
}

.skills-error-banner span {
  flex: 1;
}

.skills-error-banner button {
  padding: 4px 12px;
  border-radius: 6px;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  color: #DC2626;
  font-size: 12px;
  cursor: pointer;
  transition: background 0.2s;
}

.skills-error-banner button:hover {
  background: rgba(239, 68, 68, 0.15);
}

.skills-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: calc(100vh - 400px);
  overflow-y: auto;
}

.skill-item {
  background: var(--dash-card-bg, #FFFFFF);
  border: 1px solid var(--dash-border, #E8E6DC);
  border-radius: var(--dash-radius-sm, 8px);
  padding: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.skill-item:hover {
  border-color: var(--dash-accent, #B8A8D4);
  box-shadow: 0 2px 8px rgba(184, 168, 212, 0.15);
}

.skill-item.skill-selected {
  border-color: var(--dash-accent, #B8A8D4);
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.05) 0%, rgba(188, 209, 203, 0.05) 100%);
}

.skill-item-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
}

.skill-item-left {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  flex: 1;
}

.skill-exec-icon {
  width: 24px;
  height: 24px;
  stroke: var(--dash-accent, #B8A8D4);
  flex-shrink: 0;
  margin-top: 2px;
}

.skill-item-info {
  flex: 1;
  min-width: 0;
}

.skill-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--dash-text, #374151);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.skill-vendor {
  font-size: 12px;
  color: var(--dash-text-muted, #6b7280);
  margin-top: 2px;
}

.skill-description {
  font-size: 13px;
  color: var(--dash-text-muted, #6b7280);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.skill-status-badge {
  font-size: 11px;
  font-weight: 500;
  padding: 4px 8px;
  border-radius: 12px;
  white-space: nowrap;
  text-transform: capitalize;
}

.skill-status-ready {
  background: rgba(16, 185, 129, 0.1);
  color: #059669;
}

.skill-status-verification {
  background: rgba(245, 158, 11, 0.1);
  color: #D97706;
}

.skill-status-config {
  background: rgba(139, 92, 246, 0.1);
  color: #7C3AED;
}

.skill-status-manual {
  background: rgba(107, 114, 128, 0.1);
  color: #6B7280;
}

.skill-status-failed {
  background: rgba(239, 68, 68, 0.1);
  color: #DC2626;
}

.skill-status-unknown {
  background: rgba(107, 114, 128, 0.1);
  color: #9CA3AF;
}

/* Skill Details (expanded) */
.skill-details {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--dash-border, #E8E6DC);
}

.skill-detail-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  padding: 4px 0;
}

.skill-detail-label {
  color: var(--dash-text-muted, #6b7280);
}

.skill-detail-value {
  color: var(--dash-text, #374151);
  font-weight: 500;
}

.skill-detail-value.skill-success {
  color: #059669;
}

.skill-detail-value.skill-failed {
  color: #DC2626;
}

.skill-health-notes {
  margin-top: 8px;
}

.skill-health-notes ul {
  margin: 4px 0 0 16px;
  font-size: 11px;
  color: var(--dash-text-muted, #6b7280);
}

.skill-health-notes li {
  margin-bottom: 2px;
}

/* Skill Actions */
.skill-actions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
  flex-wrap: wrap;
}

.skill-action-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  font-size: 12px;
  font-weight: 500;
  border-radius: 6px;
  border: 1px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
}

.skill-action-btn svg {
  width: 14px;
  height: 14px;
}

.skill-btn-check {
  background: rgba(184, 168, 212, 0.1);
  color: var(--dash-accent-dark, #9B8AB8);
  border-color: var(--dash-accent, #B8A8D4);
}

.skill-btn-check:hover {
  background: var(--dash-accent, #B8A8D4);
  color: white;
}

.skill-btn-check:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.skill-btn-ready {
  background: rgba(16, 185, 129, 0.1);
  color: #059669;
  border-color: #10B981;
}

.skill-btn-ready:hover {
  background: #10B981;
  color: white;
}

.skill-btn-source {
  background: rgba(107, 114, 128, 0.1);
  color: #6B7280;
  border-color: #D1D5DB;
}

.skill-btn-source:hover {
  background: #6B7280;
  color: white;
}

.skill-btn-loading {
  color: var(--dash-text-muted, #6b7280);
}

/* Skills Empty State */
.skills-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  text-align: center;
  color: var(--dash-text-muted, #6b7280);
}

.skills-empty svg {
  width: 48px;
  height: 48px;
  stroke: var(--dash-border, #E8E6DC);
  margin-bottom: 12px;
}

.skills-empty p {
  font-size: 14px;
}

/* Skills Footer */
.skills-footer {
  padding-top: 12px;
  border-top: 1px solid var(--dash-border, #E8E6DC);
  display: flex;
  justify-content: center;
}

.skill-refresh-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  font-size: 13px;
  font-weight: 500;
  color: var(--dash-text-muted, #6b7280);
  background: transparent;
  border: 1px solid var(--dash-border, #E8E6DC);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.skill-refresh-btn:hover {
  background: var(--dash-card-hover, #FAF9F6);
  border-color: var(--dash-accent, #B8A8D4);
  color: var(--dash-accent-dark, #9B8AB8);
}

.skill-refresh-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.skill-refresh-btn svg {
  width: 16px;
  height: 16px;
}

.skill-refresh-btn svg.skill-spinning {
  animation: skill-spin 1s linear infinite;
}

@keyframes skill-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ═══════════════════════════════════════════════════════════════════════
   JOURNAL PANEL
   Premium therapeutic journaling experience
   ═══════════════════════════════════════════════════════════════════════ */

.journal-panel {
  width: 0;
  height: 100vh;
  background: linear-gradient(180deg, #FAF9F6 0%, #F5F4ED 100%);
  border-left: 1px solid #E8E6DC;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  flex-shrink: 0;
  position: relative;
}

.journal-panel.journal-open {
  width: var(--journal-panel-width, 600px);
  box-shadow: -8px 0 32px rgba(0, 0, 0, 0.08);
}

.journal-inner {
  width: var(--journal-panel-width, 600px);
  min-width: var(--journal-panel-width, 600px);
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Resize Handle */
.journal-resize-handle {
  position: absolute;
  top: 0;
  left: -4px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
  z-index: 10;
}

.journal-resize-handle::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 48px;
  background: #D1CEC4;
  border-radius: 4px;
  opacity: 0;
  transition: all 0.2s;
}

.journal-resize-handle:hover::before,
.journal-resize-handle.journal-dragging::before {
  opacity: 1;
  background: var(--lavender);
  height: 64px;
}

/* Journal Header */
.journal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  border-bottom: 1px solid #E8E6DC;
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.1) 0%, rgba(188, 209, 203, 0.1) 100%);
}

.journal-header-left {
  display: flex;
  align-items: center;
  gap: 14px;
}

.journal-header-icon {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--lavender) 0%, var(--lavender-dark) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(184, 168, 212, 0.3);
}

.journal-header-icon svg {
  width: 24px;
  height: 24px;
  stroke: white;
}

.journal-title {
  font-family: Georgia, serif;
  font-size: 22px;
  font-weight: 500;
  color: var(--lavender-dark);
  margin: 0;
}

.journal-subtitle {
  font-size: 13px;
  color: #6b7280;
  margin: 0;
}

.journal-close-btn {
  width: 36px;
  height: 36px;
  border: none;
  background: transparent;
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s;
}

.journal-close-btn:hover { background: rgba(0,0,0,0.06); }
.journal-close-btn svg { width: 20px; height: 20px; stroke: #6b7280; }

/* View Tabs */
.journal-view-tabs {
  display: flex;
  gap: 6px;
  padding: 12px 20px;
  border-bottom: 1px solid #E8E6DC;
  background: #FAF9F6;
}

.journal-view-tab {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 10px 16px;
  border: none;
  background: transparent;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s;
}

.journal-view-tab:hover {
  background: rgba(0,0,0,0.04);
  color: #1f2937;
}

.journal-view-tab.active {
  background: var(--lavender);
  color: white;
}

/* Journal Content */
.journal-content {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.journal-content::-webkit-scrollbar { width: 6px; }
.journal-content::-webkit-scrollbar-track { background: transparent; }
.journal-content::-webkit-scrollbar-thumb { background: #D1CEC4; border-radius: 3px; }

/* Entry Type Selector */
.journal-type-selector {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 20px;
}

.journal-type-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  border: 1px solid #E8E6DC;
  background: white;
  border-radius: 20px;
  font-size: 13px;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s;
}

.journal-type-btn:hover {
  border-color: var(--lavender);
  color: var(--lavender-dark);
}

.journal-type-btn.active {
  border-color: transparent;
}

.journal-type-icon { font-size: 16px; }
.journal-type-label { font-weight: 500; }

/* Health Data Widget */
.journal-health-widget {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 20px;
}

.journal-health-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
}

.journal-health-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 600;
  color: #1f2937;
}

.journal-health-title svg { stroke: var(--lavender); }

.journal-health-source {
  font-size: 11px;
  color: #9ca3af;
}

.journal-health-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

.journal-health-item {
  text-align: center;
  padding: 10px 8px;
  background: #F5F4ED;
  border-radius: 10px;
}

.journal-health-value {
  display: block;
  font-size: 18px;
  font-weight: 700;
  color: var(--lavender-dark);
}

.journal-health-label {
  font-size: 11px;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Mood Selector */
.journal-mood-selector {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 20px;
}

.journal-mood-label {
  font-size: 14px;
  font-weight: 500;
  color: #1f2937;
  margin-bottom: 12px;
  display: block;
}

.journal-mood-options {
  display: flex;
  justify-content: space-between;
  gap: 8px;
}

.journal-mood-btn {
  flex: 1;
  padding: 12px;
  border: 2px solid #E8E6DC;
  background: white;
  border-radius: 12px;
  font-size: 24px;
  cursor: pointer;
  transition: all 0.15s;
}

.journal-mood-btn:hover {
  border-color: var(--lavender);
  transform: scale(1.05);
}

.journal-mood-btn.active {
  border-color: var(--lavender);
  background: rgba(184, 168, 212, 0.15);
  transform: scale(1.1);
}

/* Dream Symbols */
.journal-dream-symbols {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 20px;
}

.journal-dream-label {
  font-size: 14px;
  font-weight: 500;
  color: #1f2937;
  margin-bottom: 10px;
  display: block;
}

.journal-dream-input-row {
  display: flex;
  gap: 8px;
}

.journal-dream-input {
  flex: 1;
  padding: 10px 14px;
  border: 1px solid #E8E6DC;
  border-radius: 10px;
  font-size: 14px;
  outline: none;
}

.journal-dream-input:focus {
  border-color: var(--lavender);
}

.journal-dream-add-btn {
  width: 40px;
  border: none;
  background: var(--lavender);
  color: white;
  border-radius: 10px;
  font-size: 20px;
  cursor: pointer;
  transition: background 0.15s;
}

.journal-dream-add-btn:hover { background: var(--lavender-dark); }

.journal-dream-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 12px;
}

.journal-dream-tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: #E0E7FF;
  color: #3730A3;
  border-radius: 16px;
  font-size: 13px;
}

.journal-dream-tag button {
  border: none;
  background: none;
  color: inherit;
  font-size: 16px;
  cursor: pointer;
  opacity: 0.7;
}

.journal-dream-tag button:hover { opacity: 1; }

/* Voice Recording */
.journal-voice-area {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 40px 20px;
}

.journal-voice-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  padding: 32px 48px;
  border: 2px dashed #D1CEC4;
  background: white;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.2s;
}

.journal-voice-btn:hover {
  border-color: var(--lavender);
  background: rgba(184, 168, 212, 0.05);
}

.journal-voice-btn.recording {
  border-color: #EF4444;
  border-style: solid;
  background: rgba(239, 68, 68, 0.05);
  animation: pulse-recording 1.5s infinite;
}

@keyframes pulse-recording {
  0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.3); }
  50% { box-shadow: 0 0 0 12px rgba(239, 68, 68, 0); }
}

.journal-voice-icon {
  color: var(--lavender-dark);
}

.journal-voice-btn.recording .journal-voice-icon {
  color: #EF4444;
}

.journal-voice-text {
  font-size: 15px;
  color: #6b7280;
}

.journal-voice-visualizer {
  display: flex;
  align-items: flex-end;
  gap: 4px;
  height: 40px;
  margin-top: 20px;
}

.journal-voice-bar {
  width: 8px;
  background: #EF4444;
  border-radius: 4px;
  animation: voice-wave 0.5s ease-in-out infinite alternate;
}

.journal-voice-bar:nth-child(2) { animation-delay: 0.1s; }
.journal-voice-bar:nth-child(3) { animation-delay: 0.2s; }
.journal-voice-bar:nth-child(4) { animation-delay: 0.3s; }
.journal-voice-bar:nth-child(5) { animation-delay: 0.4s; }
.journal-voice-bar:nth-child(6) { animation-delay: 0.5s; }
.journal-voice-bar:nth-child(7) { animation-delay: 0.6s; }

@keyframes voice-wave {
  0% { height: 20%; }
  100% { height: 100%; }
}

/* Text Entry Area */
.journal-entry-area {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  overflow: hidden;
  margin-bottom: 20px;
}

.journal-textarea {
  width: 100%;
  padding: 18px;
  border: none;
  outline: none;
  font-size: 15px;
  line-height: 1.7;
  resize: none;
  font-family: Georgia, serif;
  min-height: 160px;
}

.journal-textarea::placeholder {
  color: #9ca3af;
  font-style: italic;
}

.journal-entry-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 18px;
  border-top: 1px solid #E8E6DC;
  background: #FAF9F6;
}

.journal-char-count {
  font-size: 12px;
  color: #9ca3af;
}

.journal-save-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  border: none;
  background: var(--lavender);
  color: white;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s;
}

.journal-save-btn:hover:not(:disabled) { background: var(--lavender-dark); }
.journal-save-btn:disabled { opacity: 0.5; cursor: not-allowed; }

/* Nicole Response Preview */
.journal-nicole-preview {
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.1) 0%, rgba(188, 209, 203, 0.1) 100%);
  border: 1px solid rgba(184, 168, 212, 0.3);
  border-radius: 14px;
  padding: 18px;
}

.journal-nicole-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.journal-nicole-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--lavender);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 14px;
}

.journal-nicole-name {
  font-weight: 600;
  color: #1f2937;
  font-size: 14px;
}

.journal-nicole-time {
  font-size: 12px;
  color: #9ca3af;
  margin-left: auto;
}

.journal-nicole-hint {
  font-size: 14px;
  color: #6b7280;
  line-height: 1.6;
  font-style: italic;
  margin: 0;
}

/* History View */
.journal-history-view {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.journal-history-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 8px;
}

.journal-stat-item {
  text-align: center;
  padding: 16px;
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 12px;
}

.journal-stat-value {
  display: block;
  font-size: 28px;
  font-weight: 700;
  color: var(--lavender-dark);
}

.journal-stat-label {
  font-size: 12px;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Entry Cards */
.journal-entry-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.journal-entry-card {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  padding: 18px;
  transition: all 0.15s;
  cursor: pointer;
}

.journal-entry-card:hover {
  box-shadow: 0 4px 16px rgba(0,0,0,0.06);
  border-color: var(--lavender);
}

.journal-entry-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.journal-entry-type-badge {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  background: #F5F4ED;
  border-radius: 12px;
  font-size: 12px;
  color: #6b7280;
}

.journal-entry-date {
  font-size: 12px;
  color: #9ca3af;
}

.journal-entry-preview {
  font-size: 14px;
  color: #374151;
  line-height: 1.6;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.journal-entry-mood {
  margin-top: 10px;
  font-size: 20px;
}

.journal-entry-symbols {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 10px;
}

.journal-symbol-tag {
  padding: 4px 10px;
  background: #E0E7FF;
  color: #3730A3;
  border-radius: 12px;
  font-size: 11px;
}

.journal-entry-response {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #E8E6DC;
}

.journal-response-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
  font-size: 13px;
  font-weight: 500;
  color: #6b7280;
}

.journal-response-avatar {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--lavender);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-weight: 600;
}

.journal-response-text {
  font-size: 13px;
  color: #374151;
  line-height: 1.6;
  margin: 0;
  font-style: italic;
}

/* Insights View */
.journal-insights-view {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.journal-insight-widget {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  padding: 18px;
}

.journal-insight-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 15px;
  font-weight: 600;
  color: #1f2937;
  margin: 0 0 14px 0;
}

.journal-insight-title svg { stroke: var(--lavender); }

.journal-insight-summary {
  font-size: 14px;
  color: #374151;
  line-height: 1.6;
  margin: 0 0 16px 0;
}

.journal-section-title {
  font-size: 12px;
  font-weight: 600;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0 0 10px 0;
}

.journal-correlations,
.journal-patterns {
  margin-bottom: 14px;
}

.journal-correlations:last-child,
.journal-patterns:last-child {
  margin-bottom: 0;
}

.journal-correlation-item,
.journal-pattern-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 8px 0;
  font-size: 13px;
  color: #374151;
  line-height: 1.5;
}

.journal-correlation-item svg { stroke: #10B981; flex-shrink: 0; margin-top: 2px; }
.journal-pattern-item svg { stroke: #F59E0B; flex-shrink: 0; margin-top: 2px; }

/* Mood Chart */
.journal-mood-chart {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  height: 80px;
  margin-bottom: 8px;
}

.journal-chart-bar {
  flex: 1;
  background: linear-gradient(180deg, var(--lavender) 0%, var(--lavender-dark) 100%);
  border-radius: 4px;
  transition: height 0.3s;
  opacity: 0.7;
}

.journal-chart-bar:hover { opacity: 1; }
.journal-chart-bar.highlight { opacity: 1; background: linear-gradient(180deg, #10B981 0%, #059669 100%); }

.journal-chart-labels {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: #9ca3af;
}

/* Sleep Correlation */
.journal-sleep-correlation {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.journal-correlation-stat {
  text-align: center;
  padding: 14px;
  background: #F5F4ED;
  border-radius: 10px;
}

.journal-correlation-value {
  display: block;
  font-size: 22px;
  font-weight: 700;
  color: #10B981;
  margin-bottom: 4px;
}

.journal-correlation-label {
  font-size: 12px;
  color: #6b7280;
}

/* Journal Footer */
.journal-footer {
  padding: 14px 20px;
  border-top: 1px solid #E8E6DC;
  background: #FAF9F6;
}

.journal-footer-text {
  font-size: 12px;
  color: #9ca3af;
  text-align: center;
  font-style: italic;
}

/* ═══════════════════════════════════════════════════════════════════════
   NUTRITION TRACKING SECTION
   Comprehensive dietary intake tracking
   ═══════════════════════════════════════════════════════════════════════ */

.journal-nutrition-view {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Daily Summary Card */
.nutrition-summary-card {
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.15) 0%, rgba(188, 209, 203, 0.15) 100%);
  border: 1px solid rgba(184, 168, 212, 0.3);
  border-radius: 16px;
  padding: 20px;
}

.nutrition-summary-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.nutrition-summary-title {
  font-size: 16px;
  font-weight: 600;
  color: #1f2937;
  margin: 0;
}

.nutrition-date {
  font-size: 13px;
  color: #6b7280;
}

/* Macro Grid with Ring Progress */
.nutrition-macro-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-bottom: 16px;
}

.nutrition-macro-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

.nutrition-macro-ring {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: conic-gradient(
    var(--lavender) 0% var(--progress, 0%),
    #E8E6DC var(--progress, 0%) 100%
  );
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.nutrition-macro-ring::before {
  content: '';
  position: absolute;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: white;
}

.nutrition-macro-ring.protein { background: conic-gradient(#10B981 0% var(--progress, 0%), #E8E6DC var(--progress, 0%) 100%); }
.nutrition-macro-ring.carbs { background: conic-gradient(#F59E0B 0% var(--progress, 0%), #E8E6DC var(--progress, 0%) 100%); }
.nutrition-macro-ring.fat { background: conic-gradient(#EF4444 0% var(--progress, 0%), #E8E6DC var(--progress, 0%) 100%); }

.nutrition-macro-value {
  position: relative;
  z-index: 1;
  font-size: 13px;
  font-weight: 700;
  color: #1f2937;
}

.nutrition-macro-label {
  font-size: 11px;
  font-weight: 500;
  color: #6b7280;
}

.nutrition-macro-goal {
  font-size: 10px;
  color: #9ca3af;
}

/* Hydration Quick View */
.nutrition-hydration-quick {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 10px;
}

.hydration-icon { font-size: 20px; }

.hydration-bar {
  flex: 1;
  height: 10px;
  background: #E8E6DC;
  border-radius: 5px;
  overflow: hidden;
}

.hydration-fill {
  height: 100%;
  background: linear-gradient(90deg, #60A5FA, #3B82F6);
  border-radius: 5px;
  transition: width 0.3s;
}

.hydration-text {
  font-size: 13px;
  font-weight: 600;
  color: #3B82F6;
  white-space: nowrap;
}

/* Nutrition Sub-Tabs */
.nutrition-subtabs {
  display: flex;
  gap: 8px;
  padding: 4px;
  background: #F5F4ED;
  border-radius: 12px;
}

.nutrition-subtab {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 10px 12px;
  border: none;
  background: transparent;
  border-radius: 10px;
  font-size: 13px;
  font-weight: 500;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s;
}

.nutrition-subtab:hover { background: rgba(255, 255, 255, 0.5); }

.nutrition-subtab.active {
  background: white;
  color: #1f2937;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* Add Button */
.nutrition-add-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  padding: 14px;
  border: 2px dashed #D1CEC4;
  background: transparent;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 500;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s;
}

.nutrition-add-btn:hover {
  border-color: var(--lavender);
  color: var(--lavender-dark);
  background: rgba(184, 168, 212, 0.05);
}

/* Add Form */
.nutrition-add-form {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  padding: 18px;
}

.nutrition-form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.nutrition-form-header h4 {
  font-size: 15px;
  font-weight: 600;
  color: #1f2937;
  margin: 0;
}

.nutrition-form-close {
  width: 28px;
  height: 28px;
  border: none;
  background: #F5F4ED;
  border-radius: 8px;
  font-size: 18px;
  color: #6b7280;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.nutrition-form-close:hover { background: #E8E6DC; }

/* Meal Type Selector */
.nutrition-meal-types {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}

.nutrition-meal-type-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  border: 1px solid #E8E6DC;
  background: white;
  border-radius: 20px;
  font-size: 13px;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s;
}

.nutrition-meal-type-btn:hover { border-color: var(--lavender); }

.nutrition-meal-type-btn.active {
  border-color: transparent;
}

/* Form Fields */
.nutrition-form-fields {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 16px;
}

.nutrition-form-row {
  display: flex;
  gap: 10px;
}

.nutrition-form-row.two-col > * { flex: 1; }

.nutrition-input {
  width: 100%;
  padding: 12px 14px;
  border: 1px solid #E8E6DC;
  border-radius: 10px;
  font-size: 14px;
  outline: none;
  transition: border-color 0.15s;
}

.nutrition-input:focus {
  border-color: var(--lavender);
}

.nutrition-input::placeholder { color: #9ca3af; }

/* Recent Foods */
.nutrition-recent {
  margin-bottom: 16px;
}

.nutrition-recent-title {
  font-size: 12px;
  font-weight: 600;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0 0 10px 0;
}

.nutrition-recent-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.nutrition-recent-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border: none;
  background: #F5F4ED;
  border-radius: 8px;
  cursor: pointer;
  text-align: left;
  transition: background 0.15s;
}

.nutrition-recent-item:hover { background: #E8E6DC; }

.recent-food-name {
  font-size: 13px;
  font-weight: 500;
  color: #1f2937;
}

.recent-food-brand {
  font-size: 12px;
  color: #9ca3af;
}

.recent-food-cal {
  margin-left: auto;
  font-size: 12px;
  font-weight: 500;
  color: var(--lavender-dark);
}

/* Save Button */
.nutrition-save-btn {
  width: 100%;
  padding: 12px;
  border: none;
  background: var(--lavender);
  color: white;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.15s;
}

.nutrition-save-btn:hover:not(:disabled) { background: var(--lavender-dark); }
.nutrition-save-btn:disabled { opacity: 0.5; cursor: not-allowed; }

/* Meals List */
.nutrition-meals-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.nutrition-meal-card {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  overflow: hidden;
}

.meal-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: #FAF9F6;
  border-bottom: 1px solid #E8E6DC;
}

.meal-type-badge {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 600;
  color: #1f2937;
}

.meal-time {
  font-size: 12px;
  color: #9ca3af;
}

.meal-items-list {
  padding: 12px 16px;
}

.meal-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid #F5F4ED;
}

.meal-item:last-child { border-bottom: none; }

.meal-item-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.meal-item-name {
  font-size: 14px;
  font-weight: 500;
  color: #1f2937;
}

.meal-item-brand {
  font-size: 12px;
  color: #9ca3af;
}

.meal-item-portion {
  font-size: 12px;
  color: #6b7280;
}

.meal-item-macros {
  display: flex;
  gap: 8px;
  font-size: 12px;
}

.macro-cal { color: var(--lavender-dark); font-weight: 500; }
.macro-pro { color: #10B981; }

.meal-card-total {
  padding: 10px 16px;
  background: #F5F4ED;
  font-size: 13px;
  font-weight: 600;
  color: #6b7280;
  text-align: right;
}

/* Supplements View */
.nutrition-supplements-view {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.nutrition-supplement-types,
.nutrition-supp-type-btn {
  display: flex;
  gap: 8px;
}

.nutrition-supplement-types {
  flex-wrap: wrap;
  margin-bottom: 16px;
}

.nutrition-supp-type-btn {
  align-items: center;
  padding: 8px 14px;
  border: 1px solid #E8E6DC;
  background: white;
  border-radius: 20px;
  font-size: 13px;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s;
}

.nutrition-supp-type-btn:hover { border-color: var(--lavender); }

.nutrition-supp-type-btn.active {
  background: var(--lavender);
  border-color: var(--lavender);
  color: white;
}

.nutrition-supplements-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.supplements-section-title {
  font-size: 12px;
  font-weight: 600;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0 0 10px 0;
}

.supplement-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 10px;
  margin-bottom: 8px;
  transition: all 0.15s;
}

.supplement-item.taken {
  background: #D1FAE5;
  border-color: #10B981;
}

.supplement-check {
  width: 24px;
  height: 24px;
  border: 2px solid #D1CEC4;
  background: white;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  color: #10B981;
  cursor: pointer;
  transition: all 0.15s;
}

.supplement-item.taken .supplement-check {
  background: #10B981;
  border-color: #10B981;
  color: white;
}

.supplement-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.supplement-name {
  font-size: 14px;
  font-weight: 500;
  color: #1f2937;
}

.supplement-brand {
  font-size: 12px;
  color: #9ca3af;
}

.supplement-dosage {
  font-size: 13px;
  color: var(--lavender-dark);
  font-weight: 500;
}

.supplement-time {
  font-size: 12px;
  color: #9ca3af;
}

.supplement-stats {
  display: flex;
  justify-content: center;
  padding: 16px;
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 12px;
}

.supplement-stat {
  text-align: center;
}

.supplement-stat-value {
  display: block;
  font-size: 28px;
  font-weight: 700;
  color: #10B981;
}

.supplement-stat-label {
  font-size: 13px;
  color: #6b7280;
}

/* Hydration View */
.nutrition-hydration-view {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.hydration-goal-card {
  display: flex;
  align-items: center;
  gap: 24px;
  padding: 24px;
  background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%);
  border-radius: 16px;
}

.hydration-goal-visual {
  flex-shrink: 0;
}

.hydration-glass {
  width: 60px;
  height: 120px;
  background: rgba(255, 255, 255, 0.4);
  border: 3px solid rgba(59, 130, 246, 0.5);
  border-radius: 8px 8px 20px 20px;
  position: relative;
  overflow: hidden;
}

.hydration-glass-fill {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(180deg, #60A5FA 0%, #3B82F6 100%);
  transition: height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 0 0 17px 17px;
}

.hydration-glass-marks {
  position: absolute;
  right: -50px;
  top: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 4px 0;
  font-size: 9px;
  color: #3B82F6;
}

.hydration-goal-info {
  flex: 1;
}

.hydration-current {
  display: block;
  font-size: 36px;
  font-weight: 700;
  color: #1E40AF;
}

.hydration-goal-text {
  font-size: 14px;
  color: #3B82F6;
}

.hydration-remaining {
  margin-top: 8px;
  font-size: 13px;
  color: #6B7280;
}

/* Quick Add Hydration */
.hydration-quick-add {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  padding: 18px;
}

.hydration-quick-title {
  font-size: 14px;
  font-weight: 600;
  color: #1f2937;
  margin: 0 0 12px 0;
}

.hydration-type-selector {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 14px;
}

.hydration-type-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border: 1px solid #E8E6DC;
  background: white;
  border-radius: 20px;
  font-size: 12px;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s;
}

.hydration-type-btn:hover { border-color: #60A5FA; }

.hydration-type-btn.active {
  background: #DBEAFE;
  border-color: #3B82F6;
  color: #1E40AF;
}

.hydration-amount-btns {
  display: flex;
  gap: 8px;
}

.hydration-amount-btn {
  flex: 1;
  padding: 12px 8px;
  border: none;
  background: #F5F4ED;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 600;
  color: #3B82F6;
  cursor: pointer;
  transition: all 0.15s;
}

.hydration-amount-btn:hover {
  background: #DBEAFE;
}

/* Hydration Log */
.hydration-log {
  background: white;
  border: 1px solid #E8E6DC;
  border-radius: 14px;
  padding: 18px;
}

.hydration-log-title {
  font-size: 14px;
  font-weight: 600;
  color: #1f2937;
  margin: 0 0 12px 0;
}

.hydration-log-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.hydration-log-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  background: #F5F4ED;
  border-radius: 10px;
}

.hydration-log-icon { font-size: 18px; }

.hydration-log-type {
  font-size: 14px;
  font-weight: 500;
  color: #1f2937;
}

.hydration-log-amount {
  font-size: 14px;
  font-weight: 600;
  color: #3B82F6;
}

.hydration-log-time {
  margin-left: auto;
  font-size: 12px;
  color: #9ca3af;
}

/* ═══════════════════════════════════════════════════════════════════════
   IMAGE STUDIO PANEL
   Professional Image Generation Dashboard
   ═══════════════════════════════════════════════════════════════════════ */

.img-studio-panel {
  width: 0;
  height: 100vh;
  background: linear-gradient(180deg, #0C0C0E 0%, #141417 100%);
  border-left: 1px solid rgba(255, 255, 255, 0.06);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: width 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  flex-shrink: 0;
  position: relative;
}

.img-studio-panel.img-studio-open {
  box-shadow: -12px 0 40px rgba(0, 0, 0, 0.4);
}

.img-studio-inner {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Resize Handle */
.img-studio-resize-handle {
  position: absolute;
  top: 0;
  left: -4px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
  z-index: 10;
}

.img-studio-resize-handle::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 48px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  opacity: 0;
  transition: all 0.2s;
}

.img-studio-resize-handle:hover::before,
.img-studio-resize-handle.img-dragging::before {
  opacity: 1;
  background: linear-gradient(135deg, #B8A8D4, #8B5CF6);
  height: 64px;
}

/* Header */
.img-studio-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(20, 20, 23, 0.8);
  backdrop-filter: blur(20px);
  flex-shrink: 0;
}

.img-studio-header-left {
  display: flex;
  align-items: center;
  gap: 14px;
}

.img-studio-icon {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: linear-gradient(135deg, #B8A8D4 0%, #8B5CF6 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 16px rgba(139, 92, 246, 0.4);
}

.img-studio-icon svg {
  width: 22px;
  height: 22px;
  stroke: white;
}

.img-studio-titles {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.img-studio-title {
  font-size: 16px;
  font-weight: 600;
  color: #FAFAFA;
}

.img-studio-subtitle {
  font-size: 12px;
  color: #A1A1AA;
}

.img-studio-close-btn {
  width: 36px;
  height: 36px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: transparent;
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.img-studio-close-btn:hover {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
}

.img-studio-close-btn svg {
  width: 18px;
  height: 18px;
  stroke: #A1A1AA;
  transition: stroke 0.2s;
}

.img-studio-close-btn:hover svg {
  stroke: #EF4444;
}

/* Tabs */
.img-studio-tabs {
  display: flex;
  gap: 6px;
  padding: 12px 16px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(20, 20, 23, 0.6);
  flex-shrink: 0;
}

.img-studio-tab {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 10px 16px;
  border: none;
  background: transparent;
  border-radius: 10px;
  font-size: 13px;
  font-weight: 500;
  color: #A1A1AA;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.img-studio-tab svg {
  stroke: currentColor;
}

.img-studio-tab:hover {
  background: rgba(255, 255, 255, 0.05);
  color: #FAFAFA;
}

.img-studio-tab.img-tab-active {
  background: linear-gradient(135deg, #B8A8D4, #8B5CF6);
  color: white;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

/* Content */
.img-studio-content {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.img-studio-content::-webkit-scrollbar { width: 6px; }
.img-studio-content::-webkit-scrollbar-track { background: transparent; }
.img-studio-content::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.1); border-radius: 3px; }
.img-studio-content::-webkit-scrollbar-thumb:hover { background: rgba(184, 168, 212, 0.3); }

/* Error Banner */
.img-error-banner {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 10px;
  margin-bottom: 16px;
  font-size: 13px;
  color: #F87171;
}

.img-error-banner svg {
  width: 18px;
  height: 18px;
  stroke: #F87171;
  flex-shrink: 0;
}

/* Form Elements */
.img-form-group {
  margin-bottom: 20px;
}

.img-label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 500;
  color: #A1A1AA;
  margin-bottom: 10px;
}

.img-label svg {
  width: 16px;
  height: 16px;
  stroke: #B8A8D4;
}

.img-label-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.img-select {
  width: 100%;
  padding: 12px 14px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  font-size: 14px;
  color: #FAFAFA;
  outline: none;
  cursor: pointer;
  transition: border-color 0.2s;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23A1A1AA' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 14px center;
}

.img-select:focus {
  border-color: #B8A8D4;
  box-shadow: 0 0 0 2px rgba(184, 168, 212, 0.2);
}

.img-select option {
  background: #1A1A1F;
  color: #FAFAFA;
}

.img-input {
  width: 100%;
  padding: 12px 14px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  font-size: 14px;
  color: #FAFAFA;
  outline: none;
  transition: border-color 0.2s;
}

.img-input:focus {
  border-color: #B8A8D4;
  box-shadow: 0 0 0 2px rgba(184, 168, 212, 0.2);
}

.img-input::placeholder {
  color: #63636E;
}

.img-textarea {
  width: 100%;
  padding: 14px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.6;
  color: #FAFAFA;
  outline: none;
  resize: none;
  transition: border-color 0.2s;
  font-family: inherit;
}

.img-textarea:focus {
  border-color: #B8A8D4;
  box-shadow: 0 0 0 2px rgba(184, 168, 212, 0.2);
}

.img-textarea::placeholder {
  color: #63636E;
}

/* Toggle Button */
.img-toggle-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;
  color: #63636E;
  cursor: pointer;
  transition: all 0.2s;
}

.img-toggle-btn svg {
  width: 14px;
  height: 14px;
  stroke: currentColor;
}

.img-toggle-btn:hover {
  border-color: rgba(184, 168, 212, 0.3);
  color: #A1A1AA;
}

.img-toggle-btn.img-toggle-active {
  background: linear-gradient(135deg, rgba(184, 168, 212, 0.2), rgba(139, 92, 246, 0.2));
  border-color: #B8A8D4;
  color: #B8A8D4;
}

.img-enhance-hint {
  font-size: 12px;
  color: #B8A8D4;
  margin-top: 8px;
  padding-left: 4px;
}

/* Aspect Ratio Grid */
.img-aspect-grid {
  display: flex;
  gap: 8px;
}

.img-aspect-btn {
  flex: 1;
  padding: 10px 8px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  color: #A1A1AA;
  cursor: pointer;
  transition: all 0.2s;
}

.img-aspect-btn:hover {
  border-color: rgba(184, 168, 212, 0.3);
  color: #FAFAFA;
}

.img-aspect-btn.img-aspect-active {
  background: linear-gradient(135deg, #B8A8D4, #8B5CF6);
  border-color: transparent;
  color: white;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

/* Batch Grid */
.img-batch-grid {
  display: flex;
  gap: 8px;
}

.img-batch-btn {
  flex: 1;
  padding: 12px 8px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  color: #A1A1AA;
  cursor: pointer;
  transition: all 0.2s;
}

.img-batch-btn:hover {
  border-color: rgba(184, 168, 212, 0.3);
  color: #FAFAFA;
}

.img-batch-btn.img-batch-active {
  background: linear-gradient(135deg, #B8A8D4, #8B5CF6);
  border-color: transparent;
  color: white;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

/* Generate Button */
.img-generate-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  width: 100%;
  padding: 16px;
  background: linear-gradient(135deg, #B8A8D4 0%, #8B5CF6 100%);
  border: none;
  border-radius: 12px;
  font-size: 15px;
  font-weight: 600;
  color: white;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
  margin-bottom: 20px;
}

.img-generate-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(139, 92, 246, 0.5);
}

.img-generate-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.img-generate-btn svg {
  width: 18px;
  height: 18px;
  stroke: currentColor;
}

/* Spinner */
.img-spinner {
  width: 18px;
  height: 18px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: img-spin 0.8s linear infinite;
}

.img-spinner-lg {
  width: 32px;
  height: 32px;
  border: 3px solid rgba(184, 168, 212, 0.2);
  border-top-color: #B8A8D4;
  border-radius: 50%;
  animation: img-spin 0.8s linear infinite;
}

@keyframes img-spin {
  to { transform: rotate(360deg); }
}

/* Progress Card */
.img-progress-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 20px;
}

.img-progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 13px;
  color: #A1A1AA;
  margin-bottom: 10px;
}

.img-progress-bar {
  height: 8px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 10px;
}

.img-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #B8A8D4, #8B5CF6);
  border-radius: 4px;
  transition: width 0.3s ease;
  position: relative;
}

.img-progress-fill::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  animation: img-shine 1.5s ease-in-out infinite;
}

@keyframes img-shine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.img-progress-status {
  font-size: 12px;
  color: #B8A8D4;
}

/* Section Title */
.img-section-title {
  font-size: 14px;
  font-weight: 600;
  color: #FAFAFA;
  margin: 0 0 16px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Variants Grid */
.img-variants-section {
  margin-top: 24px;
  padding-top: 24px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.img-variants-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.img-variant-card {
  position: relative;
  aspect-ratio: 1;
  border-radius: 12px;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s;
}

.img-variant-card:hover {
  border-color: rgba(184, 168, 212, 0.3);
}

.img-variant-card.img-variant-selected {
  border-color: #B8A8D4;
  box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
}

.img-variant-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.img-variant-loading,
.img-variant-error {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.02);
}

.img-variant-error svg {
  width: 32px;
  height: 32px;
  stroke: #EF4444;
}

.img-variant-actions {
  position: absolute;
  bottom: 8px;
  right: 8px;
  display: flex;
  gap: 4px;
  opacity: 0;
  transition: opacity 0.2s;
}

.img-variant-card:hover .img-variant-actions {
  opacity: 1;
}

.img-action-btn {
  width: 32px;
  height: 32px;
  border: none;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(8px);
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.img-action-btn svg {
  width: 16px;
  height: 16px;
  stroke: white;
}

.img-action-btn:hover {
  background: rgba(184, 168, 212, 0.8);
}

.img-action-btn.img-favorited {
  background: rgba(239, 68, 68, 0.8);
}

.img-action-btn.img-favorited svg {
  stroke: white;
  fill: white;
}

/* History Tab */
.img-history-tab {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.img-jobs-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.img-job-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  padding: 16px;
  cursor: pointer;
  transition: all 0.2s;
}

.img-job-card:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(184, 168, 212, 0.3);
}

.img-job-card.img-job-selected {
  border-color: #B8A8D4;
  background: rgba(184, 168, 212, 0.1);
}

.img-job-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.img-job-status {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
}

.img-job-status.img-status-pending {
  background: rgba(245, 158, 11, 0.1);
  color: #F59E0B;
}

.img-job-status.img-status-processing {
  background: rgba(59, 130, 246, 0.1);
  color: #3B82F6;
}

.img-job-status.img-status-completed {
  background: rgba(34, 197, 94, 0.1);
  color: #22C55E;
}

.img-job-status.img-status-failed {
  background: rgba(239, 68, 68, 0.1);
  color: #EF4444;
}

.img-job-date {
  font-size: 12px;
  color: #63636E;
}

.img-job-prompt {
  font-size: 14px;
  color: #FAFAFA;
  line-height: 1.5;
  margin: 0 0 10px 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.img-job-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: #63636E;
}

/* Empty State */
.img-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;
}

.img-empty-state svg {
  width: 64px;
  height: 64px;
  stroke: rgba(255, 255, 255, 0.1);
  margin-bottom: 16px;
}

.img-empty-state p {
  font-size: 16px;
  font-weight: 500;
  color: #FAFAFA;
  margin: 0 0 8px 0;
}

.img-empty-state span {
  font-size: 14px;
  color: #63636E;
}

/* Presets Tab */
.img-presets-tab {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.img-presets-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.img-preset-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  padding: 16px;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 12px;
}

.img-preset-card:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(184, 168, 212, 0.3);
}

.img-preset-card.img-preset-selected {
  border-color: #B8A8D4;
  background: rgba(184, 168, 212, 0.1);
}

.img-preset-icon {
  font-size: 32px;
}

.img-preset-info h4 {
  font-size: 14px;
  font-weight: 600;
  color: #FAFAFA;
  margin: 0 0 4px 0;
}

.img-preset-info p {
  font-size: 12px;
  color: #A1A1AA;
  margin: 0 0 8px 0;
}

.img-preset-spec {
  font-size: 11px;
  color: #B8A8D4;
  font-family: 'SF Mono', Monaco, monospace;
}

/* Footer */
.img-studio-footer {
  padding: 12px 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(20, 20, 23, 0.8);
  flex-shrink: 0;
}

.img-footer-stats {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  font-size: 12px;
  color: #63636E;
}

/* Modal */
.img-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 40px;
}

.img-modal {
  position: relative;
  max-width: 90vw;
  max-height: 90vh;
  background: #1A1A1F;
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.img-modal-close {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 36px;
  height: 36px;
  border: none;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(8px);
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  transition: background 0.2s;
}

.img-modal-close:hover {
  background: rgba(239, 68, 68, 0.8);
}

.img-modal-close svg {
  width: 20px;
  height: 20px;
  stroke: white;
}

.img-modal-image {
  max-width: 100%;
  max-height: 70vh;
  object-fit: contain;
}

.img-modal-actions {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 16px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.img-modal-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  font-size: 13px;
  font-weight: 500;
  color: #FAFAFA;
  cursor: pointer;
  transition: all 0.2s;
}

.img-modal-btn svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
}

.img-modal-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
}

.img-modal-btn.img-modal-favorited {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.4);
  color: #F87171;
}

.img-modal-btn.img-modal-download {
  background: linear-gradient(135deg, #B8A8D4, #8B5CF6);
  border: none;
  color: white;
}

.img-modal-btn.img-modal-download:hover {
  box-shadow: 0 4px 16px rgba(139, 92, 246, 0.4);
}

/* Rating */
.img-rating {
  display: flex;
  gap: 4px;
}

.img-star {
  background: none;
  border: none;
  font-size: 20px;
  color: #63636E;
  cursor: pointer;
  padding: 4px;
  transition: all 0.2s;
}

.img-star:hover {
  color: #FBBF24;
  transform: scale(1.1);
}

.img-star.img-star-filled {
  color: #FBBF24;
}

/* Enhanced Prompt Section */
.img-modal-enhanced {
  padding: 0 16px 16px;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.img-enhanced-toggle {
  background: none;
  border: none;
  font-size: 12px;
  font-weight: 500;
  color: #B8A8D4;
  cursor: pointer;
  padding: 12px 0 8px;
  display: block;
}

.img-enhanced-text {
  font-size: 13px;
  color: #A1A1AA;
  line-height: 1.6;
  margin: 0;
  padding: 12px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 8px;
}

/* Modal Stats */
.img-modal-stats {
  display: flex;
  justify-content: center;
  gap: 20px;
  padding: 12px 16px;
  font-size: 12px;
  color: #63636E;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

/* ============================================================================
   RESEARCH PANEL STYLES - Gemini 3 Pro Deep Research
   ============================================================================ */

/* CSS Variables for Research Panel */
:root {
  --research-bg: #0a0a0f;
  --research-surface: #12121a;
  --research-surface-elevated: #1a1a24;
  --research-border: rgba(255, 255, 255, 0.08);
  --research-border-strong: rgba(255, 255, 255, 0.15);
  --research-accent: #8B5CF6;
  --research-accent-dim: rgba(139, 92, 246, 0.2);
  --research-success: #22C55E;
  --research-warning: #F59E0B;
  --research-error: #EF4444;
  --research-text: #FAFAFA;
  --research-text-muted: #A1A1AA;
  --research-text-dim: #71717A;
  --research-gradient-start: #8B5CF6;
  --research-gradient-end: #EC4899;
}

/* Panel Backdrop */
.research-panel-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  z-index: 1000;
}

/* Main Panel */
.research-panel {
  position: fixed;
  top: 0;
  right: 0;
  width: 50%;
  min-width: 500px;
  max-width: 800px;
  height: 100vh;
  background: var(--research-bg);
  border-left: 1px solid var(--research-border);
  z-index: 1001;
  display: flex;
  flex-direction: column;
  box-shadow: -20px 0 60px rgba(0, 0, 0, 0.5);
}

@media (max-width: 1024px) {
  .research-panel {
    width: 100%;
    min-width: unset;
    max-width: unset;
  }
}

/* Panel Header */
.research-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid var(--research-border);
  background: var(--research-surface);
}

.research-panel-title-group {
  display: flex;
  align-items: center;
  gap: 12px;
}

.research-panel-icon {
  width: 36px;
  height: 36px;
  background: linear-gradient(135deg, var(--research-gradient-start), var(--research-gradient-end));
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.research-panel-icon svg {
  width: 20px;
  height: 20px;
  color: white;
}

.research-panel-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0;
}

.research-panel-status {
  font-size: 12px;
  color: var(--research-text-muted);
  display: block;
}

.research-panel-close {
  width: 36px;
  height: 36px;
  border: none;
  background: transparent;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--research-text-muted);
  transition: all 0.2s;
}

.research-panel-close:hover {
  background: var(--research-surface-elevated);
  color: var(--research-text);
}

.research-panel-close svg {
  width: 20px;
  height: 20px;
}

/* Panel Content */
.research-panel-content {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
}

.research-panel-content::-webkit-scrollbar {
  width: 6px;
}

.research-panel-content::-webkit-scrollbar-track {
  background: transparent;
}

.research-panel-content::-webkit-scrollbar-thumb {
  background: var(--research-border-strong);
  border-radius: 3px;
}

/* ============================================================================
   RESEARCH LOADING STYLES
   ============================================================================ */

.research-loading {
  position: relative;
  min-height: 400px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
}

.research-loading-bg {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

.research-loading-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  opacity: 0.4;
}

.research-loading-orb.orb-1 {
  width: 200px;
  height: 200px;
  background: var(--research-accent);
  top: 20%;
  left: 20%;
}

.research-loading-orb.orb-2 {
  width: 150px;
  height: 150px;
  background: var(--research-gradient-end);
  bottom: 30%;
  right: 20%;
}

.research-loading-status {
  position: relative;
  z-index: 1;
  text-align: center;
  margin-bottom: 32px;
}

.research-status-icon {
  width: 64px;
  height: 64px;
  margin: 0 auto 20px;
  color: var(--research-accent);
}

.research-status-icon svg {
  width: 100%;
  height: 100%;
}

.research-loading-title {
  font-size: 24px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0 0 8px;
}

.research-loading-message {
  font-size: 14px;
  color: var(--research-text-muted);
  margin: 0;
}

/* Progress Bar */
.research-loading-progress-container {
  position: relative;
  z-index: 1;
  width: 100%;
  max-width: 300px;
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 40px;
}

.research-loading-progress-bar {
  flex: 1;
  height: 4px;
  background: var(--research-surface-elevated);
  border-radius: 2px;
  overflow: hidden;
}

.research-loading-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--research-gradient-start), var(--research-gradient-end));
  border-radius: 2px;
}

.research-loading-progress-text {
  font-size: 12px;
  font-weight: 500;
  color: var(--research-text-muted);
  min-width: 36px;
  text-align: right;
}

/* Loading Skeleton */
.research-loading-skeleton {
  position: relative;
  z-index: 1;
  width: 100%;
  max-width: 500px;
}

.skeleton-hero {
  height: 120px;
  background: var(--research-surface);
  border-radius: 12px;
  margin-bottom: 16px;
  overflow: hidden;
}

.skeleton-title {
  height: 28px;
  width: 80%;
  background: var(--research-surface);
  border-radius: 6px;
  margin-bottom: 12px;
  overflow: hidden;
}

.skeleton-meta {
  display: flex;
  gap: 12px;
  margin-bottom: 20px;
}

.skeleton-meta-item {
  height: 16px;
  width: 80px;
  background: var(--research-surface);
  border-radius: 4px;
  overflow: hidden;
}

.skeleton-summary {
  height: 100px;
  background: var(--research-surface);
  border-radius: 12px;
  margin-bottom: 20px;
  overflow: hidden;
}

.skeleton-findings {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.skeleton-finding {
  height: 60px;
  background: var(--research-surface);
  border-radius: 8px;
  overflow: hidden;
}

/* Shimmer animation */
.skeleton-shimmer {
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.05) 50%,
    transparent 100%
  );
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Loading decoration dots */
.research-loading-decoration {
  position: absolute;
  bottom: 40px;
  display: flex;
  gap: 8px;
}

.decoration-dot {
  width: 8px;
  height: 8px;
  background: var(--research-accent);
  border-radius: 50%;
}

/* ============================================================================
   RESEARCH ARTIFACT STYLES
   ============================================================================ */

.research-artifact {
  max-width: 100%;
}

/* Header */
.research-artifact-header {
  margin-bottom: 32px;
}

.research-type-badge {
  display: inline-block;
  padding: 6px 12px;
  background: var(--research-accent-dim);
  color: var(--research-accent);
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
  margin-bottom: 12px;
}

.research-artifact-title {
  font-size: 28px;
  font-weight: 700;
  color: var(--research-text);
  line-height: 1.3;
  margin: 0 0 16px;
}

.research-artifact-meta {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
  font-size: 13px;
  color: var(--research-text-muted);
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.meta-item svg {
  width: 14px;
  height: 14px;
  opacity: 0.7;
}

.meta-item.cost {
  color: var(--research-success);
}

.meta-item.grounding {
  color: #4285F4;  /* Google Blue */
  background: rgba(66, 133, 244, 0.1);
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 11px;
  font-weight: 600;
}

.meta-separator {
  color: var(--research-text-dim);
}

/* Key Insight Card */
.research-insight-card {
  background: linear-gradient(135deg, 
    rgba(139, 92, 246, 0.15) 0%, 
    rgba(236, 72, 153, 0.1) 100%);
  border: 1px solid var(--research-accent-dim);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 32px;
  display: flex;
  gap: 20px;
}

.research-insight-icon {
  flex-shrink: 0;
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, var(--research-gradient-start), var(--research-gradient-end));
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.research-insight-icon svg {
  width: 24px;
  height: 24px;
  color: white;
}

.research-insight-content {
  flex: 1;
}

.research-insight-label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--research-accent);
  margin: 0 0 8px;
}

.research-insight-text {
  font-size: 16px;
  line-height: 1.6;
  color: var(--research-text);
  margin: 0;
}

/* Section Titles */
.research-section-title {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 16px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0 0 16px;
}

.research-section-title svg {
  width: 18px;
  height: 18px;
  color: var(--research-accent);
}

/* Findings */
.research-findings-section {
  margin-bottom: 32px;
}

.research-findings-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.research-finding {
  display: flex;
  gap: 16px;
  padding: 16px;
  background: var(--research-surface);
  border: 1px solid var(--research-border);
  border-radius: 12px;
  transition: all 0.2s;
}

.research-finding:hover {
  border-color: var(--research-border-strong);
  transform: translateX(4px);
}

.research-finding-number {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  background: var(--research-accent-dim);
  color: var(--research-accent);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 600;
}

.research-finding-content {
  flex: 1;
}

.research-finding-content p {
  margin: 0 0 8px;
  font-size: 14px;
  line-height: 1.6;
  color: var(--research-text);
}

.research-finding-source {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--research-accent);
  text-decoration: none;
  transition: opacity 0.2s;
}

.research-finding-source:hover {
  opacity: 0.8;
}

.research-finding-source svg {
  width: 12px;
  height: 12px;
}

/* Nicole's Take */
.research-nicole-section {
  background: var(--research-surface);
  border: 1px solid var(--research-border);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 32px;
}

.research-nicole-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

.research-nicole-avatar {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, var(--research-gradient-start), var(--research-gradient-end));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.research-nicole-avatar svg {
  width: 24px;
  height: 24px;
  color: white;
}

.research-nicole-header h2 {
  font-size: 16px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0;
}

.research-nicole-content p {
  font-size: 15px;
  line-height: 1.7;
  color: var(--research-text-muted);
  margin: 0;
}

/* Recommendations */
.research-recommendations-section {
  margin-bottom: 32px;
}

.research-recommendations-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.research-recommendation {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(34, 197, 94, 0.08);
  border: 1px solid rgba(34, 197, 94, 0.2);
  border-radius: 10px;
}

.research-recommendation-check {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  color: var(--research-success);
}

.research-recommendation-check svg {
  width: 100%;
  height: 100%;
}

.research-recommendation p {
  margin: 0;
  font-size: 14px;
  line-height: 1.5;
  color: var(--research-text);
}

/* Sources */
.research-sources-section {
  margin-bottom: 24px;
}

.research-sources-toggle {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
}

.research-sources-toggle .research-section-title {
  margin: 0;
}

.sources-chevron {
  width: 20px;
  height: 20px;
  color: var(--research-text-muted);
}

.research-sources-list {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--research-border);
  overflow: hidden;
}

.research-citation {
  display: flex;
  gap: 8px;
  padding: 8px 0;
  font-size: 13px;
}

.research-citation-number {
  flex-shrink: 0;
  color: var(--research-text-dim);
  font-weight: 500;
}

.research-citation-link {
  color: var(--research-accent);
  text-decoration: none;
  word-break: break-all;
  transition: opacity 0.2s;
}

.research-citation-link:hover {
  opacity: 0.8;
  text-decoration: underline;
}

/* Footer */
.research-artifact-footer {
  padding-top: 20px;
  border-top: 1px solid var(--research-border);
}

.research-metadata {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 12px;
  color: var(--research-text-dim);
}

/* ============================================================================
   INSPIRATION GALLERY STYLES
   ============================================================================ */

.inspiration-gallery {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

@media (max-width: 600px) {
  .inspiration-gallery {
    grid-template-columns: 1fr;
  }
}

/* Inspiration Card */
.inspiration-card {
  background: var(--research-surface);
  border: 1px solid var(--research-border);
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.2s;
}

.inspiration-card:hover {
  border-color: var(--research-accent);
}

.inspiration-card-image {
  position: relative;
  aspect-ratio: 16/10;
  overflow: hidden;
}

.inspiration-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s;
}

.inspiration-card:hover .inspiration-card-image img {
  transform: scale(1.05);
}

.inspiration-card-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.2s;
}

.inspiration-card:hover .inspiration-card-overlay {
  opacity: 1;
}

.inspiration-view-btn {
  padding: 8px 16px;
  background: var(--research-accent);
  color: white;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 500;
}

.inspiration-card-info {
  padding: 14px;
}

.inspiration-card-site {
  font-size: 14px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0 0 4px;
}

.inspiration-card-pattern {
  font-size: 12px;
  color: var(--research-text-muted);
  margin: 0 0 10px;
}

.inspiration-card-colors {
  display: flex;
  gap: 4px;
}

.inspiration-color-dot {
  width: 16px;
  height: 16px;
  border-radius: 4px;
  border: 1px solid var(--research-border);
}

/* Inspiration Detail Modal */
.inspiration-detail-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px;
  z-index: 1100;
}

.inspiration-detail-modal {
  position: relative;
  display: flex;
  max-width: 1000px;
  max-height: 90vh;
  background: var(--research-bg);
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--research-border);
}

@media (max-width: 768px) {
  .inspiration-detail-modal {
    flex-direction: column;
    max-height: 100%;
  }
}

.inspiration-detail-image {
  flex: 1;
  min-width: 0;
  background: var(--research-surface);
}

.inspiration-detail-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.inspiration-detail-content {
  flex: 0 0 340px;
  padding: 24px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

@media (max-width: 768px) {
  .inspiration-detail-content {
    flex: 0 0 auto;
  }
}

.inspiration-detail-title {
  font-size: 20px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0;
}

.inspiration-detail-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: var(--research-accent);
  text-decoration: none;
}

.inspiration-detail-link:hover {
  text-decoration: underline;
}

.inspiration-detail-link svg {
  width: 14px;
  height: 14px;
}

.inspiration-detail-notes {
  font-size: 14px;
  line-height: 1.6;
  color: var(--research-text-muted);
  margin: 0;
}

.inspiration-detail-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.inspiration-detail-section h4 {
  font-size: 13px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0;
}

.inspiration-detail-colors {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.inspiration-color-chip {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  background: var(--research-surface);
  border-radius: 6px;
}

.color-swatch {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  border: 1px solid var(--research-border);
}

.color-code {
  font-size: 11px;
  font-family: 'SF Mono', monospace;
  color: var(--research-text-muted);
}

/* Element Feedback */
.inspiration-elements-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.inspiration-element-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  background: var(--research-surface);
  border-radius: 8px;
}

.element-name {
  font-size: 13px;
  color: var(--research-text);
}

.element-actions {
  display: flex;
  gap: 4px;
}

.element-btn {
  width: 28px;
  height: 28px;
  border: none;
  background: transparent;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.element-btn svg {
  width: 16px;
  height: 16px;
}

.element-btn.like {
  color: var(--research-text-muted);
}

.element-btn.like:hover,
.element-btn.like.active {
  color: var(--research-success);
  background: rgba(34, 197, 94, 0.1);
}

.element-btn.dislike {
  color: var(--research-text-muted);
}

.element-btn.dislike:hover,
.element-btn.dislike.active {
  color: var(--research-error);
  background: rgba(239, 68, 68, 0.1);
}

/* Comments textarea */
.inspiration-comments {
  width: 100%;
  min-height: 80px;
  padding: 12px;
  background: var(--research-surface);
  border: 1px solid var(--research-border);
  border-radius: 8px;
  font-size: 13px;
  color: var(--research-text);
  resize: vertical;
}

.inspiration-comments:focus {
  outline: none;
  border-color: var(--research-accent);
}

.inspiration-comments::placeholder {
  color: var(--research-text-dim);
}

/* Actions */
.inspiration-detail-actions {
  display: flex;
  gap: 10px;
  margin-top: auto;
}

.inspiration-action-btn {
  flex: 1;
  padding: 12px 16px;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all 0.2s;
}

.inspiration-action-btn.dismiss {
  background: var(--research-surface);
  color: var(--research-text-muted);
  border: 1px solid var(--research-border);
}

.inspiration-action-btn.dismiss:hover {
  background: var(--research-surface-elevated);
  color: var(--research-text);
}

.inspiration-action-btn.save {
  background: var(--research-accent);
  color: white;
}

.inspiration-action-btn.save:hover {
  background: #7C4DEE;
}

.inspiration-action-btn svg {
  width: 16px;
  height: 16px;
}

/* Close button */
.inspiration-detail-close {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 32px;
  height: 32px;
  border: none;
  background: rgba(0, 0, 0, 0.6);
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  transition: all 0.2s;
}

.inspiration-detail-close:hover {
  background: rgba(0, 0, 0, 0.8);
}

.inspiration-detail-close svg {
  width: 18px;
  height: 18px;
}

/* Empty state */
.inspiration-empty {
  text-align: center;
  padding: 60px 20px;
  color: var(--research-text-muted);
}

.inspiration-empty svg {
  width: 64px;
  height: 64px;
  margin-bottom: 16px;
  opacity: 0.5;
}

.inspiration-empty p {
  margin: 0;
  font-size: 14px;
}

/* Inspirations Panel Header */
.research-panel-inspirations {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.inspirations-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.inspirations-header h3 {
  font-size: 18px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0;
}

.inspirations-count {
  font-size: 13px;
  color: var(--research-text-muted);
  background: var(--research-surface);
  padding: 4px 10px;
  border-radius: 12px;
}

.inspirations-patterns {
  background: var(--research-surface);
  border-radius: 12px;
  padding: 16px;
}

.inspirations-patterns h4 {
  font-size: 13px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0 0 12px;
}

.patterns-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.pattern-tag {
  padding: 6px 12px;
  background: var(--research-accent-dim);
  color: var(--research-accent);
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;
}

.inspirations-recommendations {
  background: rgba(34, 197, 94, 0.08);
  border: 1px solid rgba(34, 197, 94, 0.2);
  border-radius: 12px;
  padding: 16px;
}

.inspirations-recommendations h4 {
  font-size: 13px;
  font-weight: 600;
  color: var(--research-success);
  margin: 0 0 12px;
}

.inspirations-recommendations ul {
  margin: 0;
  padding-left: 20px;
}

.inspirations-recommendations li {
  font-size: 14px;
  line-height: 1.6;
  color: var(--research-text);
  margin-bottom: 6px;
}

/* Error State */
.research-panel-error {
  text-align: center;
  padding: 60px 20px;
}

.research-error-icon {
  width: 64px;
  height: 64px;
  margin: 0 auto 20px;
  color: var(--research-error);
}

.research-error-icon svg {
  width: 100%;
  height: 100%;
}

.research-panel-error h3 {
  font-size: 20px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0 0 8px;
}

.research-panel-error p {
  font-size: 14px;
  color: var(--research-text-muted);
  margin: 0 0 24px;
}

.research-retry-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  background: var(--research-accent);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.research-retry-btn:hover {
  background: #7C4DEE;
}

.research-retry-btn svg {
  width: 16px;
  height: 16px;
}

/* Research Input Form */
.research-input-form {
  margin-bottom: 24px;
}

.research-input-wrapper {
  display: flex;
  gap: 8px;
  background: var(--research-surface);
  border: 1px solid var(--research-border);
  border-radius: 12px;
  padding: 6px;
}

.research-input-wrapper:focus-within {
  border-color: var(--research-accent);
}

.research-type-selector {
  position: relative;
  flex-shrink: 0;
}

.research-type-button {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 10px 12px;
  background: var(--research-surface-elevated);
  border: none;
  border-radius: 8px;
  color: var(--research-text);
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s;
}

.research-type-button:hover {
  background: var(--research-border-strong);
}

.type-icon {
  font-size: 14px;
}

.type-label {
  font-weight: 500;
}

.type-chevron {
  width: 14px;
  height: 14px;
  opacity: 0.6;
}

.research-type-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 4px;
  background: var(--research-surface-elevated);
  border: 1px solid var(--research-border);
  border-radius: 10px;
  padding: 6px;
  min-width: 180px;
  z-index: 10;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
}

.type-option {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 10px 12px;
  background: none;
  border: none;
  border-radius: 6px;
  color: var(--research-text-muted);
  font-size: 13px;
  text-align: left;
  cursor: pointer;
  transition: all 0.15s;
}

.type-option:hover {
  background: var(--research-border);
  color: var(--research-text);
}

.type-option.active {
  background: var(--research-accent-dim);
  color: var(--research-accent);
}

.research-input {
  flex: 1;
  min-width: 0;
  padding: 10px 12px;
  background: transparent;
  border: none;
  color: var(--research-text);
  font-size: 14px;
}

.research-input:focus {
  outline: none;
}

.research-input::placeholder {
  color: var(--research-text-dim);
}

.research-input:disabled {
  opacity: 0.5;
}

.research-submit-btn {
  flex-shrink: 0;
  width: 42px;
  height: 42px;
  background: var(--research-accent);
  border: none;
  border-radius: 8px;
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.research-submit-btn:hover:not(:disabled) {
  background: #7C4DEE;
}

.research-submit-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.research-submit-btn svg {
  width: 18px;
  height: 18px;
}

/* Empty State */
.research-panel-empty {
  text-align: center;
  padding: 40px 20px;
}

.research-empty-illustration {
  width: 100px;
  height: 100px;
  margin: 0 auto 24px;
  color: var(--research-text-dim);
  opacity: 0.6;
}

.research-empty-illustration svg {
  width: 100%;
  height: 100%;
}

.research-panel-empty h3 {
  font-size: 18px;
  font-weight: 600;
  color: var(--research-text);
  margin: 0 0 8px;
}

.research-panel-empty p {
  font-size: 14px;
  color: var(--research-text-muted);
  margin: 0 0 24px;
}

.research-examples {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.research-examples .example {
  display: block;
  width: 100%;
  padding: 12px 16px;
  background: var(--research-surface);
  border: 1px solid var(--research-border);
  border-radius: 8px;
  font-size: 13px;
  color: var(--research-text-muted);
  font-style: italic;
  text-align: left;
  cursor: pointer;
  transition: all 0.2s;
}

.research-examples .example:hover {
  background: var(--research-surface-elevated);
  border-color: var(--research-accent);
  color: var(--research-text);
}

/* ============================================================================
   RESEARCH ARTICLE - Editorial Magazine Style
   Inspired by New Yorker, Time, and Medium
   ============================================================================ */

.research-article {
  --article-font-serif: 'Georgia', 'Times New Roman', serif;
  --article-font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --article-text: #1a1a1a;
  --article-text-muted: #666666;
  --article-text-light: #999999;
  --article-accent: #8B5CF6;
  --article-border: #e5e5e5;
  --article-bg: #ffffff;
  --article-surface: #f8f8f8;
  
  background: var(--article-bg);
  color: var(--article-text);
  max-width: 100%;
  margin: 0;
  padding: 0;
}

/* Article Header */
.research-article-header {
  padding: 48px 32px 32px;
  border-bottom: 1px solid var(--article-border);
}

.research-article-category {
  font-family: var(--article-font-sans);
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--article-accent);
  margin-bottom: 16px;
}

.research-article-title {
  font-family: var(--article-font-serif);
  font-size: 32px;
  font-weight: 700;
  line-height: 1.2;
  color: var(--article-text);
  margin: 0 0 20px 0;
  max-width: 600px;
}

.research-article-subtitle {
  font-family: var(--article-font-serif);
  font-size: 18px;
  line-height: 1.6;
  color: var(--article-text-muted);
  margin: 0 0 24px 0;
  max-width: 600px;
}

.research-article-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 16px;
}

.research-article-byline {
  display: flex;
  align-items: center;
  gap: 12px;
}

.research-article-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg, #8B5CF6 0%, #A78BFA 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
}

.research-article-avatar svg {
  width: 22px;
  height: 22px;
}

.research-article-author {
  display: flex;
  flex-direction: column;
}

.research-article-author .author-name {
  font-family: var(--article-font-sans);
  font-size: 14px;
  font-weight: 600;
  color: var(--article-text);
}

.research-article-author .author-role {
  font-family: var(--article-font-sans);
  font-size: 12px;
  color: var(--article-text-muted);
}

.research-article-date {
  font-family: var(--article-font-sans);
  font-size: 13px;
  color: var(--article-text-light);
}

/* Article Body */
.research-article-body {
  padding: 32px;
}

.research-article-lead {
  font-family: var(--article-font-serif);
  font-size: 20px;
  line-height: 1.7;
  color: var(--article-text);
  margin: 0 0 32px 0;
  padding-bottom: 32px;
  border-bottom: 1px solid var(--article-border);
}

.research-article-section {
  margin-bottom: 40px;
}

.research-article-section-title {
  font-family: var(--article-font-sans);
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--article-accent);
  margin: 0 0 20px 0;
  padding-bottom: 12px;
  border-bottom: 2px solid var(--article-accent);
  display: inline-block;
}

.research-article-text {
  font-family: var(--article-font-serif);
  font-size: 17px;
  line-height: 1.8;
  color: var(--article-text);
  margin: 0;
}

/* Findings as Cards */
.research-article-findings {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.research-finding-card {
  background: var(--article-surface);
  border-left: 3px solid var(--article-accent);
  padding: 20px 24px;
  border-radius: 0 8px 8px 0;
}

.research-finding-title {
  font-family: var(--article-font-sans);
  font-size: 15px;
  font-weight: 600;
  color: var(--article-text);
  margin: 0 0 8px 0;
}

.research-finding-text {
  font-family: var(--article-font-serif);
  font-size: 15px;
  line-height: 1.7;
  color: var(--article-text-muted);
  margin: 0;
}

/* Recommendations */
.research-article-recommendations {
  font-family: var(--article-font-serif);
  font-size: 16px;
  line-height: 1.8;
  color: var(--article-text);
  margin: 0;
  padding-left: 0;
  list-style: none;
}

.research-article-recommendations li {
  position: relative;
  padding-left: 28px;
  margin-bottom: 16px;
}

.research-article-recommendations li::before {
  content: '→';
  position: absolute;
  left: 0;
  color: var(--article-accent);
  font-weight: 600;
}

/* Sources */
.research-article-sources {
  margin-top: 48px;
  padding-top: 32px;
  border-top: 1px solid var(--article-border);
}

.research-sources-title {
  font-family: var(--article-font-sans);
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--article-text-light);
  margin: 0 0 16px 0;
}

.research-sources-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.research-source-link {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--article-surface);
  border-radius: 8px;
  text-decoration: none;
  transition: all 0.2s;
  border: 1px solid transparent;
}

.research-source-link:hover {
  background: #f0f0f0;
  border-color: var(--article-border);
}

/* Favicon container */
.research-source-link .source-favicon {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  background: #fff;
  border: 1px solid var(--article-border);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  overflow: hidden;
}

.research-source-link .source-favicon img {
  width: 16px;
  height: 16px;
  object-fit: contain;
}

.research-source-link .source-favicon svg {
  width: 14px;
  height: 14px;
  color: var(--article-text-light);
}

.research-source-link .source-favicon .hidden {
  display: none;
}

/* Source info container */
.research-source-link .source-info {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.research-source-link .source-title {
  font-family: var(--article-font-sans);
  font-size: 14px;
  font-weight: 500;
  color: var(--article-text);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.research-source-link .source-domain {
  font-family: var(--article-font-sans);
  font-size: 12px;
  color: var(--article-text-muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.research-source-link .source-icon {
  width: 14px;
  height: 14px;
  color: var(--article-text-light);
  flex-shrink: 0;
}

/* Legacy source-number for backwards compat */
.research-source-link .source-number {
  font-family: var(--article-font-sans);
  font-size: 11px;
  font-weight: 600;
  color: white;
  background: var(--article-accent);
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

/* Article Footer */
.research-article-footer {
  padding: 24px 32px;
  background: var(--article-surface);
  border-top: 1px solid var(--article-border);
}

.research-article-stats {
  display: flex;
  align-items: center;
  gap: 24px;
  flex-wrap: wrap;
}

.research-article-stats .stat {
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: var(--article-font-sans);
  font-size: 12px;
  color: var(--article-text-light);
}

.research-article-stats .stat svg {
  width: 14px;
  height: 14px;
}

.research-article-stats .stat.cost {
  margin-left: auto;
  color: var(--article-accent);
  font-weight: 500;
}
